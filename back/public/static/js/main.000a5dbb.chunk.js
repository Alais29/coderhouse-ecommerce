(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{125:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(21),s=r.n(c),o=r(4),i=r.n(o),u=r(8),d=r(131),l=r(25),j=r(16),b=r(130),p=r(12),x=r.n(p),m=r(73),h=r.n(m),f=r(1),O=function(e){var t=e.style,r=void 0===t?{}:t;return Object(f.jsx)("div",{className:x()(h.a["loading-screen"]),style:r,children:Object(f.jsx)(b.a,{animation:"grow",variant:"primary"})})},v=r(138),g=r(137),w=function(){return Object(f.jsxs)("svg",{height:"20px",viewBox:"0 -31 512.00033 512",width:"20px",xmlns:"http://www.w3.org/2000/svg",fill:"#9b9d9e",children:[Object(f.jsx)("path",{d:"m166 300.003906h271.003906c6.710938 0 12.597656-4.4375 14.414063-10.882812l60.003906-210.003906c1.289063-4.527344.40625-9.390626-2.433594-13.152344-2.84375-3.75-7.265625-5.964844-11.984375-5.964844h-365.632812l-10.722656-48.25c-1.523438-6.871094-7.617188-11.75-14.648438-11.75h-91c-8.289062 0-15 6.710938-15 15 0 8.292969 6.710938 15 15 15h78.960938l54.167968 243.75c-15.9375 6.929688-27.128906 22.792969-27.128906 41.253906 0 24.8125 20.1875 45 45 45h271.003906c8.292969 0 15-6.707031 15-15 0-8.289062-6.707031-15-15-15h-271.003906c-8.261719 0-15-6.722656-15-15s6.738281-15 15-15zm0 0"}),Object(f.jsx)("path",{d:"m151 405.003906c0 24.816406 20.1875 45 45.003906 45 24.8125 0 45-20.183594 45-45 0-24.8125-20.1875-45-45-45-24.816406 0-45.003906 20.1875-45.003906 45zm0 0"}),Object(f.jsx)("path",{d:"m362.003906 405.003906c0 24.816406 20.1875 45 45 45 24.816406 0 45-20.183594 45-45 0-24.8125-20.183594-45-45-45-24.8125 0-45 20.1875-45 45zm0 0"})]})},y=r(74),C=r.n(y),_=function(){return Object(f.jsxs)(v.a,{bg:"dark",variant:"dark",fixed:"top",expand:"sm",children:[Object(f.jsx)(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(f.jsx)(v.a.Collapse,{id:"responsive-navbar-nav",children:Object(f.jsx)(d.a,{children:Object(f.jsxs)(g.a,{className:"me-auto",children:[Object(f.jsx)(l.b,{className:"nav-link",to:"/",children:"Inicio"}),Object(f.jsx)(l.b,{className:"nav-link",to:"/productos",children:"Productos"}),Object(f.jsx)(l.b,{className:"nav-link",to:"/add-product",children:"Agregar Producto"}),Object(f.jsx)(l.b,{className:x()("nav-link","ms-sm-auto",C.a["cart-icon"]),to:"/cart",children:Object(f.jsx)(w,{})})]})})})]})},k=r(13),N=r(11),S=r(2),E=r(10),P=r(136),I=r(132),L=r(46),T=function(){return Object(L.b)()},F=L.c,q=function(e){var t=e.onSubmit,r=Object(a.useState)({email:"",password:""}),n=Object(E.a)(r,2),c=n[0],s=n[1],o=F((function(e){return e.user})).status,i=c.email,u=c.password,d=function(e){s(Object(S.a)(Object(S.a)({},c),{},Object(N.a)({},e.target.name,e.target.value)))},l=function(e){e.preventDefault(),t(c)};return Object(f.jsx)("div",{children:Object(f.jsxs)(P.a,{onSubmit:function(e){return l(e)},children:[Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(f.jsx)(P.a.Label,{children:"Email"}),Object(f.jsx)(P.a.Control,{type:"text",value:i,name:"email",onChange:d})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"password",children:[Object(f.jsx)(P.a.Label,{children:"Contrase\xf1a"}),Object(f.jsx)(P.a.Control,{type:"password",value:u,name:"password",onChange:d})]}),Object(f.jsx)(I.a,{className:"mb-2",type:"submit",disabled:"loading"===o,children:"loading"===o?"Procesando...":"Login"})]})})},G=r(17),R=r(20),M=r.n(R),D="/api/auth",z=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat(D,"/login"),t);case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat(D,"/signup"),t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(D,"/logout"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(D,"/userdata"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),H=Object(G.b)("user/signup",function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(G.b)("user/login",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return r=e.sent,e.abrupt("return",r.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Y=Object(G.b)("user/logout",Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),$=Object(G.b)("user/data",Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),K=Object(G.c)({name:"user",initialState:{data:null,isLoggedIn:!1,status:"idle",error:null},reducers:{setStatus:function(e,t){e.status=t.payload}},extraReducers:function(e){e.addCase(U.pending,(function(e,t){e.status="loading"})).addCase(U.fulfilled,(function(e,t){e.status="succeeded",e.data=t.payload,e.isLoggedIn=!0,e.error=null})).addCase(U.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(Y.pending,(function(e,t){e.status="loading"})).addCase(Y.fulfilled,(function(e,t){e.status="succeeded",e.isLoggedIn=!1,e.error=null,e.data=null})).addCase(Y.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase($.pending,(function(e,t){e.status="loading"})).addCase($.fulfilled,(function(e,t){e.data=t.payload,e.status="succeeded",e.isLoggedIn=!0})).addCase($.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),V=(K.actions.setStatus,K.reducer),W=function(){var e=T(),t=Object(j.g)(),r=function(){var r=Object(u.a)(i.a.mark((function r(a){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(U(a)).unwrap();case 3:t.push("/dashboard"),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),k.b.error("Hubo un error, por favor verifique su usuario y/o contrase\xf1a");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Login de Usuario"}),Object(f.jsx)(q,{onSubmit:r}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"\xbfNo tienes cuenta?"}),Object(f.jsx)(l.b,{className:"btn btn-primary ms-2",to:"/signup",children:"Reg\xedstrate"})]})]})},X=r(85),Z=r(78),Q=r.n(Z),ee=function(e){var t=e.onSubmit,r=Object(a.useState)({email:"",password:"",repeatPassword:"",nombre:"",direccion:"",edad:""}),n=Object(E.a)(r,2),c=n[0],s=n[1],o=Object(a.useState)(),i=Object(E.a)(o,2),u=i[0],d=i[1],l=c.email,j=c.password,b=c.repeatPassword,p=c.nombre,m=c.direccion,h=c.edad,O=Object(a.useRef)(null),v=function(e){s(Object(S.a)(Object(S.a)({},c),{},Object(N.a)({},e.target.name,e.target.value)))},g=function(e){e.preventDefault();var r=null;O.current&&(r=O.current.files);var a=new FormData;Object.entries(c).forEach((function(e){a.append(e[0],e[1])})),a.append("foto",r?r[0]:""),a.append("telefono",u||""),t(a,(function(){s({email:"",password:"",repeatPassword:"",nombre:"",direccion:"",edad:""}),d(void 0),O.current&&(O.current.value="")}))};return Object(f.jsx)("div",{className:x()(Q.a["signup-form"]),children:Object(f.jsxs)(P.a,{onSubmit:function(e){return g(e)},children:[Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(f.jsx)(P.a.Label,{children:"Email"}),Object(f.jsx)(P.a.Control,{type:"text",value:l,name:"email",onChange:v})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"password",children:[Object(f.jsx)(P.a.Label,{children:"Contrase\xf1a"}),Object(f.jsx)(P.a.Control,{type:"password",value:j,name:"password",onChange:v})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"password",children:[Object(f.jsx)(P.a.Label,{children:"Repite tu contrase\xf1a"}),Object(f.jsx)(P.a.Control,{type:"password",value:b,name:"repeatPassword",onChange:v})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(f.jsx)(P.a.Label,{children:"Nombre Completo"}),Object(f.jsx)(P.a.Control,{type:"nombre",value:p,name:"nombre",onChange:v})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"direccion",children:[Object(f.jsx)(P.a.Label,{children:"Direcci\xf3n"}),Object(f.jsx)(P.a.Control,{type:"direccion",value:m,name:"direccion",onChange:v})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"edad",children:[Object(f.jsx)(P.a.Label,{children:"Edad"}),Object(f.jsx)(P.a.Control,{type:"edad",value:h,name:"edad",onChange:v})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"telefono",children:[Object(f.jsx)(P.a.Label,{children:"Tel\xe9fono"}),Object(f.jsx)(X.a,{placeholder:"Enter phone number",value:u,name:"telefono",onChange:d})]}),Object(f.jsxs)(P.a.Group,{controlId:"foto",className:"mb-3",children:[Object(f.jsx)(P.a.Label,{children:"Foto"}),Object(f.jsx)(P.a.Control,{type:"file",ref:O,name:"foto"})]}),Object(f.jsx)(I.a,{className:"mb-2",type:"submit",children:"Registrarse"})]})})},te=function(){var e=T(),t=Object(j.g)(),r=function(){var r=Object(u.a)(i.a.mark((function r(a,n){var c,s,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(H(a)).unwrap();case 3:return n(),k.b.success("\xa1Registro Exitoso!"),c={},a.forEach((function(e,t){return c[t]=e})),s={email:c.email,password:c.password},r.next=10,e(U(s)).unwrap();case 10:t.push("/dashboard"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),o="Missing credentials"===r.t0.message?"Todos los campos son obligatorios":r.t0.message,k.b.error(o);case 17:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Registro de Usuario"}),Object(f.jsx)(ee,{onSubmit:r}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"\xbfYa tienes cuenta?"}),Object(f.jsx)(l.b,{className:"btn btn-primary ms-2",to:"/login",children:"Login"})]})]})},re="/api/productos",ae=function(){var e=Object(u.a)(i.a.mark((function e(t){var r,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="",t?(r="?",(a=Object.entries(t)).forEach((function(e,t){r+="".concat(e[0],"=").concat(e[1]).concat(t!==a.length-1?"&":"")}))):r="",e.next=5,M.a.get("".concat(re,"/listar").concat(r));case 5:return n=e.sent,e.abrupt("return",n.data.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat(re,"/guardar"),t);case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.delete("".concat(re,"/borrar/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(u.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.put("".concat(re,"/actualizar/").concat(t),r);case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),oe=Object(G.b)("products/fetchProducts",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ie=Object(G.b)("products/addNewProduct",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue=Object(G.b)("products/editProduct",function(){var e=Object(u.a)(i.a.mark((function e(t){var r,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.product,e.next=3,se(r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),de=Object(G.b)("products/removeProduct",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),le=Object(G.c)({name:"products",initialState:{data:[],status:"idle",error:null},reducers:{removeProduct:function(e,t){e.data=e.data.filter((function(e){return e.id!==t.payload}))}},extraReducers:function(e){e.addCase(oe.pending,(function(e,t){e.status="loading"})).addCase(oe.fulfilled,(function(e,t){e.status="succeeded",e.data=t.payload})).addCase(oe.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(ie.fulfilled,(function(e,t){e.data.push(t.payload)})).addCase(ue.fulfilled,(function(e,t){var r=e.data.map((function(e){return e.id})).indexOf(t.payload.id);e.data.splice(r,1,t.payload)}))}}),je=le.actions.removeProduct,be=le.reducer,pe=function(e){var t=e.handleSaveProduct,r=e.addRequestStatus,n=Object(a.useState)({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""}),c=Object(E.a)(n,2),s=c[0],o=c[1],i=s.codigo,u=s.nombre,d=s.descripcion,l=s.precio,j=s.stock,p=s.foto,x=function(e){o(Object(S.a)(Object(S.a)({},s),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(P.a,{children:[Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(f.jsx)(P.a.Label,{children:"C\xf3digo"}),Object(f.jsx)(P.a.Control,{type:"text",value:i,name:"codigo",onChange:x}),Object(f.jsx)(P.a.Text,{className:"text-muted",children:"Debe tener el siguiente formato: ECOM-xxxx-xxx, donde 'x' corresponde a n\xfameros"})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(f.jsx)(P.a.Label,{children:"Nombre"}),Object(f.jsx)(P.a.Control,{type:"text",value:u,name:"nombre",onChange:x})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(f.jsx)(P.a.Label,{children:"Descripci\xf3n"}),Object(f.jsx)(P.a.Control,{type:"textarea",value:d,name:"descripcion",onChange:x})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"precio",children:[Object(f.jsx)(P.a.Label,{children:"Precio"}),Object(f.jsx)(P.a.Control,{type:"text",value:l,name:"precio",onChange:x})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"stock",children:[Object(f.jsx)(P.a.Label,{children:"Stock"}),Object(f.jsx)(P.a.Control,{type:"text",value:j,name:"stock",onChange:x})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"foto",children:[Object(f.jsx)(P.a.Label,{children:"URL de imagen"}),Object(f.jsx)(P.a.Control,{type:"url",value:p,name:"foto",onChange:x})]}),Object(f.jsxs)(I.a,{className:"mb-2",onClick:function(){t(s,(function(){o({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},disabled:"loading"===r,children:["Guardar"," ","loading"===r&&Object(f.jsx)(b.a,{animation:"border",size:"sm",variant:"light"})]})]})})},xe=function(){var e=Object(a.useState)("idle"),t=Object(E.a)(e,2),r=t[0],n=t[1],c=T(),s=function(){var e=Object(u.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n("loading"),e.next=4,c(ie(t)).unwrap();case 4:r(),k.b.success("El producto fue agregado con \xe9xito"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k.b.error(e.t0.message);case 11:return e.prev=11,n("idle"),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Agrega un producto"}),Object(f.jsx)(pe,{handleSaveProduct:s,addRequestStatus:r})]})},me=r(31),he="/api/carrito",fe=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(he));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat(he,"/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.put("".concat(he),t);case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.delete("".concat(he,"/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("api/ordenes");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ye=Object(G.b)("cart/fetchProductsCart",Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),Ce=Object(G.b)("cart/addProductToCart",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_e=Object(G.b)("cart/editProductInCart",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ke=Object(G.b)("cart/removeProductCart",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ne=Object(G.b)("cart/sendCartOrder",Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),Se=Object(G.c)({name:"cart",initialState:{data:[],status:"idle",error:null},reducers:{emptyCart:function(e){e.data=[],e.status="idle",e.error="null"}},extraReducers:function(e){e.addCase(ye.pending,(function(e,t){e.status="loading"})).addCase(ye.fulfilled,(function(e,t){e.status="succeeded",e.data=e.data.concat(t.payload)})).addCase(ye.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(ke.fulfilled,(function(e,t){e.data=t.payload})).addCase(Ce.fulfilled,(function(e,t){var r=e.data.findIndex((function(e){return e.producto.id===t.payload.producto.id}));-1===r?e.data=e.data.concat(t.payload):e.data[r].quantity=t.payload.quantity,e.status="succeeded",e.error=null})).addCase(_e.fulfilled,(function(e,t){e.data=t.payload})).addCase(Ne.fulfilled,(function(e){e.data=[]}))}}),Ee=Se.actions.emptyCart,Pe=Se.reducer;function Ie(e){if(e){switch(typeof e){case"string":return""===e||"null"===e||"undefined"===e;case"number":return!1;case"object":return"{}"===JSON.stringify(e)||"[]"===JSON.stringify(e)}return!0}return!0}var Le=r(139),Te=r(64),Fe=r.n(Te),qe=function(e){var t=e.product,r=e.handleToggleShowModal,a=e.handleAddToCart;return Object(f.jsxs)(Le.a,{children:[Object(f.jsx)(Le.a.Img,{variant:"top",src:"".concat(t.foto)}),Object(f.jsxs)(Le.a.Body,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(Le.a.Title,{children:t.nombre}),Object(f.jsxs)(Le.a.Subtitle,{className:"mb-2 text-muted",children:["$",t.precio]}),Object(f.jsx)(Le.a.Text,{children:t.descripcion})]}),Object(f.jsx)("div",{className:"text-end mt-2",children:Object(f.jsx)(Le.a.Text,{children:Object(f.jsx)("small",{children:t.codigo})})}),Object(f.jsxs)("div",{className:x()("d-flex","flex-column",Fe.a["product-btns"]),children:[Object(f.jsxs)("div",{className:x()("d-flex","mt-2",Fe.a["product-add-edit"]),children:[Object(f.jsx)(I.a,{variant:"danger",onClick:function(){return r(t,"delete")},children:"Eliminar"}),Object(f.jsx)(I.a,{variant:"info",onClick:function(){return r(t,"edit")},children:"Editar"})]}),Object(f.jsx)(I.a,{variant:"primary",onClick:function(){return a(t)},children:"Agregar al carrito"})]})]})]})},Ge=r(33),Re=r.n(Ge),Me=function(e){var t=e.product,r=e.handleRemove,n=Object(a.useState)(!0),c=Object(E.a)(n,2),s=c[0],o=c[1],d=Object(a.useState)(t.quantity),l=Object(E.a)(d,2),j=l[0],b=l[1],p=Object(a.useState)("idle"),m=Object(E.a)(p,2),h=m[0],v=m[1],g=t.producto,w=T(),y=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v("loading"),Object(me.a)(document.body),e.next=5,w(_e({productId:g.id,amount:j})).unwrap();case 5:o(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k.b.error(e.t0.message);case 11:return e.prev=11,v("idle"),Object(me.b)(document.body),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,8,11,15]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:["loading"===h&&Object(f.jsx)(O,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2e3}}),Object(f.jsxs)("div",{className:x()("border","rounded","d-flex",Re.a["product-carrito"]),children:[Object(f.jsx)("img",{src:g.foto,alt:g.nombre,className:x()(Re.a["product-carrito__img"])}),Object(f.jsxs)("div",{className:x()(Re.a["product-carrito__info-container"]),children:[Object(f.jsxs)("div",{className:x()(Re.a["product-carrito__info"]),children:[Object(f.jsx)("h3",{children:g.nombre}),Object(f.jsx)("p",{children:g.descripcion}),Object(f.jsxs)("div",{className:x()(Re.a["product-carrito__qty-price"]),children:[Object(f.jsx)("div",{className:x()(Re.a["product-carrito__qty-form"]),children:Object(f.jsx)(P.a,{children:Object(f.jsxs)(P.a.Group,{className:x()("mb-3","d-flex","align-items-center","gap-2"),controlId:"nombre",children:[Object(f.jsx)(P.a.Label,{children:"Cantidad"}),Object(f.jsx)(P.a.Control,{type:"text",value:j,name:"email",onChange:function(e){b(e.target.value)},disabled:s})]})})}),Object(f.jsxs)("p",{className:x()(Re.a["product-carrito__price"]),children:["$",Number(g.precio)*t.quantity]})]})]}),Object(f.jsxs)("div",{className:x()(Re.a["product-carrito__btns"]),children:[Object(f.jsx)(I.a,{variant:"danger",onClick:function(){return r(g.id)},children:"Eliminar"}),Object(f.jsx)(I.a,{variant:s?"primary":"success",onClick:s?function(){o(!1)}:function(){return y()},children:s?"Editar":"Guardar"})]})]})]})]})},De=r(80),ze=r.n(De),Ae=function(e){var t=e.handleToggleShowModal,r=e.productos,a=e.location,n=e.handleRemove,c=e.handleAddToCart;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:x()(ze.a["product-list"],"my-4","d-flex","flex-wrap","justify-content-center",{"flex-column":"cart"===a}),children:[!Ie(r)&&"home"===a&&t&&c&&r.map((function(e){return Object(f.jsx)(qe,{product:e,handleToggleShowModal:t,handleAddToCart:c},e.id)})),!Ie(r)&&"cart"===a&&n&&r.map((function(e){return Object(f.jsx)(Me,{product:e,handleRemove:n},e.producto.id)}))]})})},Be=r(81),Je=r.n(Be),He=function(){var e=Object(a.useState)(0),t=Object(E.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)("idle"),s=Object(E.a)(c,2),o=s[0],d=s[1],j=Object(a.useState)("idle"),p=Object(E.a)(j,2),m=p[0],h=p[1],v=F((function(e){return e.cart})),g=v.data,w=v.status,y=v.error,C=T(),_=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d("loading"),Object(me.a)(document.body),e.next=5,C(ke(t)).unwrap();case 5:k.b.success("Producto eliminado del carrito"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k.b.error(e.t0.message);case 11:return e.prev=11,d("idle"),Object(me.b)(document.body),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,8,11,15]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h("loading"),e.next=4,C(Ne()).unwrap();case 4:t=e.sent,k.b.success(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k.b.error("Hubo un error enviando la orden, por favor intente de nuevo.");case 11:return e.prev=11,h("idle"),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){"idle"===w&&C(ye()),"failed"===w&&k.b.error(y||"Ocurri\xf3 un error")}),[C,w,y]),Object(a.useEffect)((function(){var e=g.reduce((function(e,t){return e+Number(t.producto.precio)*t.quantity}),0);n(e)}),[g]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"text-center mt-5 pt-3 mb-",children:"Carrito"}),Object(f.jsx)(Ae,{productos:g,location:"cart",handleRemove:_}),Ie(g)?"loading"===w?Object(f.jsx)("div",{className:x()(Je.a["spinner-container"]),children:Object(f.jsx)(b.a,{animation:"grow",variant:"primary"})}):Object(f.jsxs)("div",{className:"text-center",children:[Object(f.jsx)("h2",{children:"El carrito est\xe1 vac\xedo"}),Object(f.jsx)("p",{className:"display-6",children:"Agrega algunos productos"}),Object(f.jsx)(l.b,{to:"/productos",className:"btn btn-primary",children:"Ir a Productos"})]}):Object(f.jsxs)("div",{className:"d-flex justify-content-end gap-3 align-items-center",children:[Object(f.jsxs)("div",{className:"border rounded p-3",children:[Object(f.jsx)("span",{className:"fw-bold",children:"Total:"})," $",r.toFixed(2)]}),Object(f.jsx)(I.a,{variant:"primary",size:"lg",onClick:N,children:"Enviar orden"})]}),("loading"===o||"loading"===m)&&Object(f.jsx)(O,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2e3}})]})},Ue=r(135),Ye=function(e){var t=e.handleToggleShowModal,r=e.productToDelete,a=e.handleConfirmDelete,n=e.deleteRequestStatus;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ue.a.Header,{children:Object(f.jsx)(Ue.a.Title,{children:"\xbfEstas seguro?"})}),Object(f.jsxs)(Ue.a.Body,{children:["\xbfSeguro que quieres eliminar ",null===r||void 0===r?void 0:r.nombre,"?"]}),Object(f.jsxs)(Ue.a.Footer,{children:[Object(f.jsx)(I.a,{variant:"secondary",onClick:function(){return t()},disabled:"loading"===n,children:"Cancelar"}),Object(f.jsxs)(I.a,{variant:"danger",onClick:a,disabled:"loading"===n,children:["Eliminar"," ","loading"===n&&Object(f.jsx)(b.a,{animation:"border",size:"sm",variant:"light"})]})]})]})},$e=function(e){var t=e.handleToggleShowModal,r=e.productToEdit,n=e.handleConfirmEdit,c=e.editRequestStatus,s=Object(a.useState)({codigo:r.codigo,nombre:r.nombre,descripcion:r.descripcion,precio:r.precio,stock:r.stock,foto:r.foto}),o=Object(E.a)(s,2),i=o[0],u=o[1],d=i.codigo,l=i.nombre,j=i.descripcion,p=i.precio,x=i.stock,m=i.foto,h=function(e){u(Object(S.a)(Object(S.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ue.a.Header,{children:Object(f.jsx)(Ue.a.Title,{children:"Editar producto"})}),Object(f.jsx)(Ue.a.Body,{children:Object(f.jsxs)(P.a,{children:[Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(f.jsx)(P.a.Label,{children:"C\xf3digo"}),Object(f.jsx)(P.a.Control,{type:"text",value:d,name:"codigo",onChange:h})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(f.jsx)(P.a.Label,{children:"Nombre"}),Object(f.jsx)(P.a.Control,{type:"text",value:l,name:"nombre",onChange:h})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(f.jsx)(P.a.Label,{children:"Descripci\xf3n"}),Object(f.jsx)(P.a.Control,{type:"textarea",value:j,name:"descripcion",onChange:h})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"precio",children:[Object(f.jsx)(P.a.Label,{children:"Precio"}),Object(f.jsx)(P.a.Control,{type:"text",value:p,name:"precio",onChange:h})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"stock",children:[Object(f.jsx)(P.a.Label,{children:"Stock"}),Object(f.jsx)(P.a.Control,{type:"text",value:x,name:"stock",onChange:h})]}),Object(f.jsxs)(P.a.Group,{className:"mb-3",controlId:"foto",children:[Object(f.jsx)(P.a.Label,{children:"URL de imagen"}),Object(f.jsx)(P.a.Control,{type:"url",value:m,name:"foto",onChange:h})]})]})}),Object(f.jsxs)(Ue.a.Footer,{children:[Object(f.jsx)(I.a,{variant:"secondary",onClick:function(){return t()},disabled:"loading"===c,children:"Cancelar"}),Object(f.jsxs)(I.a,{variant:"primary",onClick:function(){var e=Object(S.a)(Object(S.a)({},r),i);n(e,(function(){u({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},disabled:"loading"===c,children:["Editar"," ","loading"===c&&Object(f.jsx)(b.a,{animation:"border",size:"sm",variant:"light"})]})]})]})},Ke=r(83),Ve=r.n(Ke),We=r(133),Xe=r(77),Ze=r(84),Qe=r.n(Ze),et=function(){var e=Object(a.useState)({nombre:"",codigo:"",minPrice:"",maxPrice:"",minStock:"",maxStock:""}),t=Object(E.a)(e,2),r=t[0],n=t[1],c=T(),s=r.nombre,o=r.codigo,i=r.minPrice,u=r.maxPrice,d=r.minStock,l=r.maxStock,j=function(e){n(Object(S.a)(Object(S.a)({},r),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(f.jsxs)("div",{className:x()(Qe.a["filter-container"]),children:[Object(f.jsx)("h2",{className:"text-center mt-4",children:"Filtra tu b\xfasqueda"}),Object(f.jsxs)(P.a,{onSubmit:function(e){e.preventDefault();var t,a=(t=r,JSON.parse(JSON.stringify(t))),n=Object.entries(a).filter((function(e){return""!==e[1]}));c(oe(Object.fromEntries(n)))},children:[Object(f.jsxs)(We.a,{children:[Object(f.jsx)(Xe.a,{xs:"12",sm:"6",children:Object(f.jsxs)(P.a.Floating,{children:[Object(f.jsx)(P.a.Control,{id:"nombre",type:"text",value:s,onChange:j,name:"nombre",placeholder:"Nombre"}),Object(f.jsx)("label",{htmlFor:"nombre",children:"Nombre"})]})}),Object(f.jsx)(Xe.a,{xs:"12",sm:"6",children:Object(f.jsxs)(P.a.Floating,{children:[Object(f.jsx)(P.a.Control,{id:"codigo",type:"text",value:o,onChange:j,name:"codigo",placeholder:"C\xf3digo"}),Object(f.jsx)("label",{htmlFor:"codigo",children:"C\xf3digo"})]})})]}),Object(f.jsxs)(We.a,{children:[Object(f.jsx)(Xe.a,{xs:"12",sm:"6",md:"3",children:Object(f.jsxs)(P.a.Floating,{children:[Object(f.jsx)(P.a.Control,{id:"minPrice",type:"text",value:i,onChange:j,name:"minPrice",placeholder:"Precio M\xednimo"}),Object(f.jsx)("label",{htmlFor:"minPrice",children:"Precio M\xednimo"})]})}),Object(f.jsx)(Xe.a,{xs:"12",sm:"6",md:"3",children:Object(f.jsxs)(P.a.Floating,{children:[Object(f.jsx)(P.a.Control,{id:"maxPrice",type:"text",value:u,onChange:j,name:"maxPrice",placeholder:"Precio M\xe1ximo"}),Object(f.jsx)("label",{htmlFor:"maxPrice",children:"Precio M\xe1ximo"})]})}),Object(f.jsx)(Xe.a,{xs:"12",sm:"6",md:"3",children:Object(f.jsxs)(P.a.Floating,{children:[Object(f.jsx)(P.a.Control,{id:"minStock",type:"text",value:d,onChange:j,name:"minStock",placeholder:"Stock M\xednimo"}),Object(f.jsx)("label",{htmlFor:"minStock",children:"Stock M\xednimo"})]})}),Object(f.jsx)(Xe.a,{xs:"12",sm:"6",md:"3",children:Object(f.jsxs)(P.a.Floating,{children:[Object(f.jsx)(P.a.Control,{id:"maxStock",type:"text",value:l,onChange:j,name:"maxStock",placeholder:"Stock M\xe1ximo"}),Object(f.jsx)("label",{htmlFor:"maxStock",children:"Stock M\xe1ximo"})]})})]}),Object(f.jsx)(I.a,{type:"submit",children:"Buscar"})]})]})},tt=function(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(null),s=Object(E.a)(c,2),o=s[0],d=s[1],l=Object(a.useState)(null),j=Object(E.a)(l,2),p=j[0],m=j[1],h=Object(a.useState)("idle"),v=Object(E.a)(h,2),g=v[0],w=v[1],y=Object(a.useState)("idle"),C=Object(E.a)(y,2),_=C[0],N=C[1],S=Object(a.useState)("idle"),P=Object(E.a)(S,2),I=P[0],L=P[1],q=F((function(e){return e.products})),G=q.data,R=q.status,M=q.error,D=T(),z=function(e,t){e&&"delete"===t&&(d(e),m(null)),e&&"edit"===t&&(m(e),d(null)),n((function(e){return!e}))},A=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=17;break}return e.prev=1,w("loading"),e.next=5,D(de(o.id)).unwrap();case 5:D(je(o.id)),z(),k.b.success("".concat(o.nombre," eliminado con \xe9xito")),setTimeout((function(){d(null)}),1e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),k.b.error(e.t0.message);case 14:return e.prev=14,w("idle"),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,!p){e.next=18;break}return e.prev=2,N("loading"),e.next=6,D(ue({id:a,product:t})).unwrap();case 6:r(),z(),k.b.success("".concat(p.nombre," editado con \xe9xito")),setTimeout((function(){m(null)}),1e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),k.b.error(e.t0.message);case 15:return e.prev=15,N("idle"),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L("loading"),Object(me.a)(document.body),e.next=5,D(Ce(t.id)).unwrap();case 5:k.b.success("".concat(t.nombre," agregado al carrito")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k.b.error(e.t0.message);case 11:return e.prev=11,L("idle"),Object(me.b)(document.body),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,8,11,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){"idle"===R?D(oe()):"failed"===R&&k.b.error(M)}),[R,D,M]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Productos"}),Object(f.jsx)(et,{}),"loading"===R&&Object(f.jsx)("div",{className:x()(Ve.a["spinner-container"]),children:Object(f.jsx)(b.a,{animation:"grow",variant:"primary"})}),"loading"===R||Ie(G)?Object(f.jsx)("div",{className:"text-center mt-4",children:Object(f.jsx)("h2",{children:"No se encontraron productos, intenta con otros par\xe1metros de b\xfasqueda"})}):Object(f.jsx)(Ae,{location:"home",productos:G,handleToggleShowModal:z,handleAddToCart:J}),Object(f.jsxs)(Ue.a,{show:r,onHide:function(){return z()},children:[o&&Object(f.jsx)(Ye,{productToDelete:o,handleConfirmDelete:A,handleToggleShowModal:z,deleteRequestStatus:g}),p&&Object(f.jsx)($e,{productToEdit:p,handleConfirmEdit:B,handleToggleShowModal:z,editRequestStatus:_})]}),"loading"===I&&Object(f.jsx)(O,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2e3}})]})},rt=r(134),at=r(47),nt=r.n(at),ct=function(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),r=t[0],n=t[1],c=F((function(e){return e.user})),s=c.data,o=c.status,d=c.error,l=T(),j=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(Y()).unwrap();case 3:l(Ee()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n("Hubo un error, por favor intente de nuevo."),setTimeout((function(){n("")}),3e3);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Dashboard"}),d&&Object(f.jsx)(rt.a,{variant:"danger",children:Object(f.jsx)("span",{className:"me-3",children:r})}),Object(f.jsx)(rt.a,{variant:"success",children:Object(f.jsx)("div",{className:"text-center",children:Object(f.jsxs)("span",{className:"me-3 fw-bold",children:["Bienvenido/a ",null===s||void 0===s?void 0:s.nombre]})})}),Object(f.jsxs)("div",{className:x()(nt.a["user-data-container"]),children:[Object(f.jsxs)("div",{className:x()(nt.a["user-data"]),children:[Object(f.jsx)("img",{src:null===s||void 0===s?void 0:s.foto,alt:"foto ".concat(null===s||void 0===s?void 0:s.nombre),className:x()(nt.a["user-data__img"])}),Object(f.jsxs)("div",{className:x()(nt.a["user-data__info"]),children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"fw-bold",children:"Email:"})," ",null===s||void 0===s?void 0:s.email]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"fw-bold",children:"Direccion:"})," ",null===s||void 0===s?void 0:s.direccion]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"fw-bold",children:"Edad:"})," ",null===s||void 0===s?void 0:s.edad]}),Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"fw-bold",children:"Tel\xe9fono:"})," ",null===s||void 0===s?void 0:s.telefono]})]})]}),Object(f.jsx)(I.a,{onClick:"loading"===o?void 0:j,disabled:"loading"===o,children:"loading"===o?"Procesando...":"Logout"})]})]})},st=function(){var e=F((function(e){return e.user})),t=e.status,r=e.isLoggedIn,n=T(),c=function(e){var t={};return document.cookie.split(";").forEach((function(e){var r=e.split("="),a=Object(E.a)(r,2),n=a[0],c=a[1];t[n.trim()]=c})),t[e]}("connect.sid");return Object(a.useEffect)((function(){c&&"idle"===t&&function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n($()).unwrap();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()()}),[t,n,c]),Object(f.jsxs)(l.a,{children:[!c||"idle"!==t&&"loading"!==t?Object(f.jsxs)(f.Fragment,{children:[r&&Object(f.jsx)(_,{}),Object(f.jsx)(d.a,{children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"/login",children:Object(f.jsx)(W,{})}),Object(f.jsx)(j.b,{path:"/signup",children:Object(f.jsx)(te,{})}),Object(f.jsx)(j.b,{path:"/add-product",children:r?Object(f.jsx)(xe,{}):Object(f.jsx)(j.a,{to:"/login"})}),Object(f.jsx)(j.b,{path:"/cart",children:r?Object(f.jsx)(He,{}):Object(f.jsx)(j.a,{to:"/login"})}),Object(f.jsx)(j.b,{path:"/productos",children:r?Object(f.jsx)(tt,{}):Object(f.jsx)(j.a,{to:"/login"})}),Object(f.jsx)(j.b,{path:"/",children:r?Object(f.jsx)(ct,{}):Object(f.jsx)(j.a,{to:"/login"})})]})})]}):Object(f.jsx)(O,{}),Object(f.jsx)(k.a,{})]})},ot=Object(G.a)({reducer:{products:be,cart:Pe,user:V}});r(122),r(123),r(124);s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(L.a,{store:ot,children:Object(f.jsx)(st,{})})}),document.getElementById("root"))},33:function(e,t,r){e.exports={"product-carrito":"styles_product-carrito__w9h_z","product-carrito__img":"styles_product-carrito__img__3lOp8","product-carrito__info-container":"styles_product-carrito__info-container__xkUfY","product-carrito__info":"styles_product-carrito__info__3cczg","product-carrito__qty-price":"styles_product-carrito__qty-price__3TmcJ","product-carrito__qty-form":"styles_product-carrito__qty-form__1O6EU","product-carrito__btns":"styles_product-carrito__btns__2Oedl","product-carrito__price":"styles_product-carrito__price__3CqFm"}},47:function(e,t,r){e.exports={"user-data-container":"styles_user-data-container__1uE-6","user-data":"styles_user-data__1vxLo","user-data__img":"styles_user-data__img__1liEm","user-data__info":"styles_user-data__info__2w3SR"}},64:function(e,t,r){e.exports={"product-btns":"styles_product-btns__KMiLf","product-add-edit":"styles_product-add-edit__3EXs6"}},73:function(e,t,r){e.exports={"loading-screen":"styles_loading-screen__LPC8w"}},74:function(e,t,r){e.exports={"cart-icon":"styles_cart-icon__Preeq"}},78:function(e,t,r){e.exports={"signup-form":"styles_signup-form__1eRgY"}},80:function(e,t,r){e.exports={"product-list":"styles_product-list__1ieW6"}},81:function(e,t,r){e.exports={"spinner-container":"styles_spinner-container__1T7VE"}},83:function(e,t,r){e.exports={"spinner-container":"styles_spinner-container__ZMR1j"}},84:function(e,t,r){e.exports={"filter-container":"styles_filter-container__3qhrs"}}},[[125,1,2]]]);
//# sourceMappingURL=main.000a5dbb.chunk.js.map