(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{111:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(22),o=r.n(c),s=r(113),i=r(27),u=r(13),d=r(120),l=r(119),j=r(1),p=function(){return Object(j.jsxs)("svg",{height:"20px",viewBox:"0 -31 512.00033 512",width:"20px",xmlns:"http://www.w3.org/2000/svg",fill:"#9b9d9e",children:[Object(j.jsx)("path",{d:"m166 300.003906h271.003906c6.710938 0 12.597656-4.4375 14.414063-10.882812l60.003906-210.003906c1.289063-4.527344.40625-9.390626-2.433594-13.152344-2.84375-3.75-7.265625-5.964844-11.984375-5.964844h-365.632812l-10.722656-48.25c-1.523438-6.871094-7.617188-11.75-14.648438-11.75h-91c-8.289062 0-15 6.710938-15 15 0 8.292969 6.710938 15 15 15h78.960938l54.167968 243.75c-15.9375 6.929688-27.128906 22.792969-27.128906 41.253906 0 24.8125 20.1875 45 45 45h271.003906c8.292969 0 15-6.707031 15-15 0-8.289062-6.707031-15-15-15h-271.003906c-8.261719 0-15-6.722656-15-15s6.738281-15 15-15zm0 0"}),Object(j.jsx)("path",{d:"m151 405.003906c0 24.816406 20.1875 45 45.003906 45 24.8125 0 45-20.183594 45-45 0-24.8125-20.1875-45-45-45-24.816406 0-45.003906 20.1875-45.003906 45zm0 0"}),Object(j.jsx)("path",{d:"m362.003906 405.003906c0 24.816406 20.1875 45 45 45 24.816406 0 45-20.183594 45-45 0-24.8125-20.183594-45-45-45-24.8125 0-45 20.1875-45 45zm0 0"})]})},b=r(19),h=r.n(b),x=r(70),f=r.n(x),O=function(){return Object(j.jsxs)(d.a,{bg:"dark",variant:"dark",fixed:"top",expand:"sm",children:[Object(j.jsx)(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(j.jsx)(d.a.Collapse,{id:"responsive-navbar-nav",children:Object(j.jsx)(s.a,{children:Object(j.jsxs)(l.a,{className:"me-auto",children:[Object(j.jsx)(i.b,{className:"nav-link",to:"/",children:"Inicio"}),Object(j.jsx)(i.b,{className:"nav-link",to:"/add-product",children:"Agregar Producto"}),Object(j.jsx)(i.b,{className:"nav-link",to:"/chat",children:"Chat"}),Object(j.jsx)(i.b,{className:h()("nav-link","ms-sm-auto",f.a["cart-icon"]),to:"/cart",children:Object(j.jsx)(p,{})})]})})})]})},m=r(7),v=r.n(m),g=r(10),w=r(14),y=r(21),C=r(29),k=r.n(C),_="/api/productos",N=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(_,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("".concat(_,"/guardar"),t);case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.delete("".concat(_,"/borrar/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(g.a)(v.a.mark((function e(t,r){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.put("".concat(_,"/actualizar/").concat(t),r);case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),I=Object(y.b)("products/fetchProducts",Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),P=Object(y.b)("products/addNewProduct",function(){var e=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(y.b)("products/editProduct",function(){var e=Object(g.a)(v.a.mark((function e(t){var r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.product,e.next=3,E(r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=Object(y.b)("products/removeProduct",function(){var e=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Object(y.c)({name:"products",initialState:{data:[],status:"idle",error:null},reducers:{removeProduct:function(e,t){e.data=e.data.filter((function(e){return e.id!==t.payload}))}},extraReducers:function(e){e.addCase(I.pending,(function(e,t){e.status="loading"})).addCase(I.fulfilled,(function(e,t){e.status="succeeded",e.data=e.data.concat(t.payload)})).addCase(I.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(P.fulfilled,(function(e,t){e.data.push(t.payload)})).addCase(L.fulfilled,(function(e,t){var r=e.data.map((function(e){return e.id})).indexOf(t.payload.id);e.data.splice(r,1,t.payload)}))}}),F=M.actions.removeProduct,A=M.reducer,R=r(44),B=function(){return Object(R.b)()},D=R.c,z=r(9),J=r(2),q=r(118),H=r(114),$=function(e){var t=e.handleSaveProduct,r=Object(n.useState)({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""}),a=Object(w.a)(r,2),c=a[0],o=a[1],s=c.codigo,i=c.nombre,u=c.descripcion,d=c.precio,l=c.stock,p=c.foto,b=function(e){o(Object(J.a)(Object(J.a)({},c),{},Object(z.a)({},e.target.name,e.target.value)))};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(q.a,{children:[Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(j.jsx)(q.a.Label,{children:"C\xf3digo"}),Object(j.jsx)(q.a.Control,{type:"text",value:s,name:"codigo",onChange:b})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(j.jsx)(q.a.Label,{children:"Nombre"}),Object(j.jsx)(q.a.Control,{type:"text",value:i,name:"nombre",onChange:b})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(j.jsx)(q.a.Label,{children:"Descripci\xf3n"}),Object(j.jsx)(q.a.Control,{type:"textarea",value:u,name:"descripcion",onChange:b})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"precio",children:[Object(j.jsx)(q.a.Label,{children:"Precio"}),Object(j.jsx)(q.a.Control,{type:"text",value:d,name:"precio",onChange:b})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"stock",children:[Object(j.jsx)(q.a.Label,{children:"Stock"}),Object(j.jsx)(q.a.Control,{type:"text",value:l,name:"stock",onChange:b})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"foto",children:[Object(j.jsx)(q.a.Label,{children:"URL de imagen"}),Object(j.jsx)(q.a.Control,{type:"url",value:p,name:"foto",onChange:b})]}),Object(j.jsx)(H.a,{className:"mb-2",onClick:function(){t(c,(function(){o({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},children:"Guardar"})]})})},U=r(121),W=r(60),K=r.n(W),X=function(e){var t=e.show,r=e.handleToggleShowToast,n=e.toastInfo;return Object(j.jsx)("div",{className:h()(K.a.notification,K.a[n.type]),children:Object(j.jsx)(U.a,{show:t,onClose:function(){return r()},delay:3e3,autohide:!0,children:Object(j.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(j.jsx)(U.a.Body,{children:n.text}),Object(j.jsx)("button",{type:"button",className:"btn-close ms-3 me-3","aria-label":"Close","data-dismiss":"toast",onClick:function(){return r()}})]})})})},Z=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)({text:"",type:""}),o=Object(w.a)(c,2),s=o[0],i=o[1],u=B(),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",type:""};e.text&&i(e),a(!r)},l=function(){var e=Object(g.a)(v.a.mark((function e(t,r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(P(t)).unwrap();case 3:r(),d({text:"El producto fue agregado con \xe9xito",type:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d({text:e.t0.message,type:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Agrega un producto"}),Object(j.jsx)(X,{show:r,handleToggleShowToast:d,toastInfo:s}),Object(j.jsx)($,{handleSaveProduct:l})]})},Q="/api/carrito",V=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(Q,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("".concat(Q,"/agregar/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.delete("".concat(Q,"/borrar/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),te=Object(y.b)("cart/fetchProductsCart",Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),re=Object(y.b)("cart/addProductToCart",function(){var e=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ne=Object(y.b)("cart/removeProductCart",function(){var e=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ae=Object(y.c)({name:"cart",initialState:{data:[],status:"idle",error:null},reducers:{},extraReducers:function(e){e.addCase(te.pending,(function(e,t){e.status="loading"})).addCase(te.fulfilled,(function(e,t){e.status="succeeded",e.data=e.data.concat(t.payload)})).addCase(te.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(ne.fulfilled,(function(e,t){e.data=t.payload})).addCase(re.fulfilled,(function(e,t){e.data=e.data.concat(t.payload),e.status="succeeded",e.error=null}))}}).reducer;function ce(e){if(e){switch(typeof e){case"string":return""===e||"null"===e||"undefined"===e;case"number":return!1;case"object":return"{}"===JSON.stringify(e)||"[]"===JSON.stringify(e)}return!0}return!0}var oe=r(122),se=r(61),ie=r.n(se),ue=function(e){var t=e.product,r=e.handleToggleShowModal,n=e.handleAddToCart;return Object(j.jsxs)(oe.a,{children:[Object(j.jsx)(oe.a.Img,{variant:"top",src:"".concat(t.foto)}),Object(j.jsxs)(oe.a.Body,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(oe.a.Title,{children:t.nombre}),Object(j.jsxs)(oe.a.Subtitle,{className:"mb-2 text-muted",children:["$",t.precio]}),Object(j.jsx)(oe.a.Text,{children:t.descripcion})]}),Object(j.jsx)("div",{className:"text-end mt-2",children:Object(j.jsx)(oe.a.Text,{children:Object(j.jsx)("small",{children:t.codigo})})}),Object(j.jsxs)("div",{className:h()("d-flex","flex-column",ie.a["product-btns"]),children:[Object(j.jsxs)("div",{className:h()("d-flex","mt-2",ie.a["product-add-edit"]),children:[Object(j.jsx)(H.a,{variant:"danger",onClick:function(){return r(t,"delete")},children:"Eliminar"}),Object(j.jsx)(H.a,{variant:"info",onClick:function(){return r(t,"edit")},children:"Editar"})]}),Object(j.jsx)(H.a,{variant:"primary",onClick:function(){return n(t)},children:"Agregar al carrito"})]})]})]})},de=r(52),le=r.n(de),je=function(e){var t=e.product,r=e.handleRemove;return Object(j.jsxs)("div",{className:h()("border","rounded","d-flex",le.a["product-carrito"]),children:[Object(j.jsx)("img",{src:t.foto,alt:t.nombre,className:le.a["product-carrito__img"]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-grow-1",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:t.nombre}),Object(j.jsx)("p",{children:t.descripcion}),Object(j.jsxs)("p",{className:le.a["product-carrito__price"],children:["$",t.precio]})]}),Object(j.jsx)(H.a,{variant:"danger",onClick:function(){return r(t.id)},children:"Eliminar"})]})]})},pe=r(73),be=r.n(pe),he=function(e){var t=e.handleToggleShowModal,r=e.productos,n=e.location,a=e.handleRemove,c=e.handleAddToCart;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:h()(be.a["product-list"],"my-4","d-flex","flex-wrap","justify-content-center",{"flex-column":"cart"===n}),children:[!ce(r)&&"home"===n&&t&&c&&r.map((function(e){return Object(j.jsx)(ue,{product:e,handleToggleShowModal:t,handleAddToCart:c},e.id)})),!ce(r)&&"cart"===n&&a&&r.map((function(e){return Object(j.jsx)(je,{product:e,handleRemove:a},e.id)}))]})})},xe=function(){var e=Object(n.useState)(0),t=Object(w.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),o=Object(w.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)({text:"",type:""}),l=Object(w.a)(d,2),p=l[0],b=l[1],h=D((function(e){return e.cart})),x=h.data,f=h.status,O=h.error,m=B(),y=function(e){u((function(e){return!e})),e&&b(e)},C=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(ne(t)).unwrap();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),y({text:e.t0.message,type:"warning"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){"idle"===f&&m(te()),"failed"===f&&b({text:O||"Ocurri\xf3 un error",type:"danger"})}),[m,f,O]),Object(n.useEffect)((function(){var e=x.reduce((function(e,t){return e+Number(t.precio)}),0);a(e)}),[x]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-center mt-5 pt-3 mb-",children:"Carrito"}),Object(j.jsx)(X,{show:s,handleToggleShowToast:y,toastInfo:p}),Object(j.jsx)(he,{productos:x,location:"cart",handleRemove:C}),ce(x)?Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("h2",{children:"El carrito est\xe1 vac\xedo"}),Object(j.jsx)("p",{className:"display-6",children:"Agrega algunos productos"}),Object(j.jsx)(i.b,{to:"/",className:"btn btn-primary",children:"Ir a inicio"})]}):Object(j.jsx)("div",{className:"d-flex justify-content-end",children:Object(j.jsxs)("p",{className:"border rounded p-4",children:[Object(j.jsx)("span",{className:"fw-bold",children:"Total:"})," $",r]})})]})},fe=r(115),Oe=r(116),me=r(117),ve=function(e){var t=e.handleToggleShowModal,r=e.productToDelete,n=e.handleConfirmDelete;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(me.a.Header,{children:Object(j.jsx)(me.a.Title,{children:"\xbfEstas seguro?"})}),Object(j.jsxs)(me.a.Body,{children:["\xbfSeguro que quieres eliminar ",null===r||void 0===r?void 0:r.nombre,"?"]}),Object(j.jsxs)(me.a.Footer,{children:[Object(j.jsx)(H.a,{variant:"secondary",onClick:function(){return t()},children:"Cancelar"}),Object(j.jsx)(H.a,{variant:"danger",onClick:n,children:"Eliminar"})]})]})},ge=function(e){var t=e.handleToggleShowModal,r=e.productToEdit,a=e.handleConfirmEdit,c=Object(n.useState)({codigo:r.codigo,nombre:r.nombre,descripcion:r.descripcion,precio:r.precio,stock:r.stock,foto:r.foto}),o=Object(w.a)(c,2),s=o[0],i=o[1],u=s.codigo,d=s.nombre,l=s.descripcion,p=s.precio,b=s.stock,h=s.foto,x=function(e){i(Object(J.a)(Object(J.a)({},s),{},Object(z.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(me.a.Header,{children:Object(j.jsx)(me.a.Title,{children:"Editar producto"})}),Object(j.jsx)(me.a.Body,{children:Object(j.jsxs)(q.a,{children:[Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(j.jsx)(q.a.Label,{children:"C\xf3digo"}),Object(j.jsx)(q.a.Control,{type:"text",value:u,name:"codigo",onChange:x})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(j.jsx)(q.a.Label,{children:"Nombre"}),Object(j.jsx)(q.a.Control,{type:"text",value:d,name:"nombre",onChange:x})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(j.jsx)(q.a.Label,{children:"Descripci\xf3n"}),Object(j.jsx)(q.a.Control,{type:"textarea",value:l,name:"descripcion",onChange:x})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"precio",children:[Object(j.jsx)(q.a.Label,{children:"Precio"}),Object(j.jsx)(q.a.Control,{type:"text",value:p,name:"precio",onChange:x})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"stock",children:[Object(j.jsx)(q.a.Label,{children:"Stock"}),Object(j.jsx)(q.a.Control,{type:"text",value:b,name:"stock",onChange:x})]}),Object(j.jsxs)(q.a.Group,{className:"mb-3",controlId:"foto",children:[Object(j.jsx)(q.a.Label,{children:"URL de imagen"}),Object(j.jsx)(q.a.Control,{type:"url",value:h,name:"foto",onChange:x})]})]})}),Object(j.jsxs)(me.a.Footer,{children:[Object(j.jsx)(H.a,{variant:"secondary",onClick:function(){return t()},children:"Cancelar"}),Object(j.jsx)(H.a,{variant:"primary",onClick:function(){var e=Object(J.a)(Object(J.a)({},r),s);a(e,(function(){i({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},children:"Editar"})]})]})},we=r(74),ye=r.n(we),Ce=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),o=Object(w.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)({text:"",type:""}),d=Object(w.a)(u,2),l=d[0],p=d[1],b=Object(n.useState)(null),x=Object(w.a)(b,2),f=x[0],O=x[1],m=Object(n.useState)(null),y=Object(w.a)(m,2),C=y[0],k=y[1],_=D((function(e){return e.products})),N=_.data,S=_.status,T=_.error,E=B(),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",type:""};ce(e.text)||p(e),i((function(e){return!e}))},M=function(e,t){e&&"delete"===t&&(O(e),k(null)),e&&"edit"===t&&(k(e),O(null)),a((function(e){return!e}))},A=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=13;break}return e.prev=1,e.next=4,E(G(f.id)).unwrap();case 4:E(F(f.id)),M(),P({text:"Producto eliminado con \xe9xito",type:"success"}),setTimeout((function(){O(null)}),1e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),P({type:"warning",text:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(v.a.mark((function e(t,r){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,!C){e.next=14;break}return e.prev=2,e.next=5,E(L({id:n,product:t})).unwrap();case 5:r(),M(),P({text:"Producto editado con \xe9xito",type:"success"}),setTimeout((function(){k(null)}),1e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),P({type:"warning",text:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}(),z=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(re(t.id)).unwrap();case 3:P({text:"".concat(t.nombre," agregado al carrito"),type:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),P({text:e.t0.message,type:"warning"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){"idle"===S&&E(I())}),[S,E]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Productos"}),"loading"===S&&Object(j.jsx)("div",{className:h()(ye.a["spinner-container"]),children:Object(j.jsx)(fe.a,{animation:"grow",variant:"primary"})}),"failed"===S&&Object(j.jsx)(Oe.a,{variant:"danger",children:T}),"succeeded"===S&&Object(j.jsx)(he,{location:"home",productos:N,handleToggleShowModal:M,handleAddToCart:z}),Object(j.jsx)(X,{show:s,handleToggleShowToast:P,toastInfo:l}),Object(j.jsxs)(me.a,{show:r,onHide:function(){return M()},children:[f&&Object(j.jsx)(ve,{productToDelete:f,handleConfirmDelete:A,handleToggleShowModal:M}),C&&Object(j.jsx)(ge,{productToEdit:C,handleConfirmEdit:R,handleToggleShowModal:M})]})]})},ke=function(){return Object(j.jsxs)(i.a,{children:[Object(j.jsx)(O,{}),Object(j.jsx)(s.a,{children:Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{path:"/add-product",children:Object(j.jsx)(Z,{})}),Object(j.jsx)(u.a,{path:"/cart",children:Object(j.jsx)(xe,{})}),Object(j.jsx)(u.a,{path:"/",children:Object(j.jsx)(Ce,{})})]})})]})},_e=Object(y.a)({reducer:{products:A,cart:ae}});r(110);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(R.a,{store:_e,children:Object(j.jsx)(ke,{})})}),document.getElementById("root"))},52:function(e,t,r){e.exports={"product-carrito":"styles_product-carrito__w9h_z","product-carrito__img":"styles_product-carrito__img__3lOp8","product-carrito__price":"styles_product-carrito__price__3CqFm"}},60:function(e,t,r){e.exports={notification:"styles_notification__1W_Ae",danger:"styles_danger__1GI2w",warning:"styles_warning__1oMJi",success:"styles_success__I1hLo"}},61:function(e,t,r){e.exports={"product-btns":"styles_product-btns__KMiLf","product-add-edit":"styles_product-add-edit__3EXs6"}},70:function(e,t,r){e.exports={"cart-icon":"styles_cart-icon__Preeq"}},73:function(e,t,r){e.exports={"product-list":"styles_product-list__1ieW6"}},74:function(e,t,r){e.exports={"spinner-container":"styles_spinner-container__ZMR1j"}}},[[111,1,2]]]);
//# sourceMappingURL=main.9f56b305.chunk.js.map