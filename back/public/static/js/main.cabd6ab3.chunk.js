(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{123:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(20),s=r.n(c),o=r(6),i=r.n(o),u=r(8),d=r(129),l=r(24),j=r(16),b=r(128),p=r(12),f=r.n(p),x=r(73),h=r.n(x),m=r(1),O=function(e){var t=e.style,r=void 0===t?{}:t;return Object(m.jsx)("div",{className:f()(h.a["loading-screen"]),style:r,children:Object(m.jsx)(b.a,{animation:"grow",variant:"primary"})})},v=r(135),g=r(134),w=function(){return Object(m.jsxs)("svg",{height:"20px",viewBox:"0 -31 512.00033 512",width:"20px",xmlns:"http://www.w3.org/2000/svg",fill:"#9b9d9e",children:[Object(m.jsx)("path",{d:"m166 300.003906h271.003906c6.710938 0 12.597656-4.4375 14.414063-10.882812l60.003906-210.003906c1.289063-4.527344.40625-9.390626-2.433594-13.152344-2.84375-3.75-7.265625-5.964844-11.984375-5.964844h-365.632812l-10.722656-48.25c-1.523438-6.871094-7.617188-11.75-14.648438-11.75h-91c-8.289062 0-15 6.710938-15 15 0 8.292969 6.710938 15 15 15h78.960938l54.167968 243.75c-15.9375 6.929688-27.128906 22.792969-27.128906 41.253906 0 24.8125 20.1875 45 45 45h271.003906c8.292969 0 15-6.707031 15-15 0-8.289062-6.707031-15-15-15h-271.003906c-8.261719 0-15-6.722656-15-15s6.738281-15 15-15zm0 0"}),Object(m.jsx)("path",{d:"m151 405.003906c0 24.816406 20.1875 45 45.003906 45 24.8125 0 45-20.183594 45-45 0-24.8125-20.1875-45-45-45-24.816406 0-45.003906 20.1875-45.003906 45zm0 0"}),Object(m.jsx)("path",{d:"m362.003906 405.003906c0 24.816406 20.1875 45 45 45 24.816406 0 45-20.183594 45-45 0-24.8125-20.183594-45-45-45-24.8125 0-45 20.1875-45 45zm0 0"})]})},y=r(74),C=r.n(y),_=function(){return Object(m.jsxs)(v.a,{bg:"dark",variant:"dark",fixed:"top",expand:"sm",children:[Object(m.jsx)(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(m.jsx)(v.a.Collapse,{id:"responsive-navbar-nav",children:Object(m.jsx)(d.a,{children:Object(m.jsxs)(g.a,{className:"me-auto",children:[Object(m.jsx)(l.b,{className:"nav-link",to:"/",children:"Inicio"}),Object(m.jsx)(l.b,{className:"nav-link",to:"/productos",children:"Productos"}),Object(m.jsx)(l.b,{className:"nav-link",to:"/add-product",children:"Agregar Producto"}),Object(m.jsx)(l.b,{className:f()("nav-link","ms-sm-auto",C.a["cart-icon"]),to:"/cart",children:Object(m.jsx)(w,{})})]})})})]})},k=r(13),N=r(10),S=r(2),E=r(11),L=r(133),I=r(130),T=r(46),R=function(){return Object(T.b)()},G=T.c,P=function(e){var t=e.onSubmit,r=Object(a.useState)({email:"",password:""}),n=Object(E.a)(r,2),c=n[0],s=n[1],o=G((function(e){return e.user})).status,i=c.email,u=c.password,d=function(e){s(Object(S.a)(Object(S.a)({},c),{},Object(N.a)({},e.target.name,e.target.value)))},l=function(e){e.preventDefault(),t(c)};return Object(m.jsx)("div",{children:Object(m.jsxs)(L.a,{onSubmit:function(e){return l(e)},children:[Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(m.jsx)(L.a.Label,{children:"Email"}),Object(m.jsx)(L.a.Control,{type:"text",value:i,name:"email",onChange:d})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"password",children:[Object(m.jsx)(L.a.Label,{children:"Contrase\xf1a"}),Object(m.jsx)(L.a.Control,{type:"password",value:u,name:"password",onChange:d})]}),Object(m.jsx)(I.a,{className:"mb-2",type:"submit",disabled:"loading"===o,children:"loading"===o?"Procesando...":"Login"})]})})},F=r(17),D=r(22),M=r.n(D),q="/api/auth",z=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat(q,"/login"),t);case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat(q,"/signup"),t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(q,"/logout"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(q,"/userdata"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),U=Object(F.b)("user/signup",function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=Object(F.b)("user/login",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return r=e.sent,e.abrupt("return",r.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Y=Object(F.b)("user/logout",Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),$=Object(F.b)("user/data",Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),K=Object(F.c)({name:"user",initialState:{data:null,isLoggedIn:!1,status:"idle",error:null},reducers:{setStatus:function(e,t){e.error=null,e.status=t.payload}},extraReducers:function(e){e.addCase(J.pending,(function(e,t){e.status="loading"})).addCase(J.fulfilled,(function(e,t){e.status="succeeded",e.data=t.payload,e.isLoggedIn=!0,e.error=null})).addCase(J.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(Y.pending,(function(e,t){e.status="loading"})).addCase(Y.fulfilled,(function(e,t){e.status="succeeded",e.isLoggedIn=!1,e.error=null,e.data=null})).addCase(Y.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase($.pending,(function(e,t){e.status="loading"})).addCase($.fulfilled,(function(e,t){e.data=t.payload,e.status="succeeded",e.isLoggedIn=!0}))}}),V=(K.actions.setStatus,K.reducer),W=function(){var e=R(),t=Object(j.g)(),r=function(){var r=Object(u.a)(i.a.mark((function r(a){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(J(a)).unwrap();case 3:t.push("/dashboard"),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),k.b.error("Hubo un error, por favor verifique su usuario y/o contrase\xf1a");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Login de Usuario"}),Object(m.jsx)(k.a,{}),Object(m.jsx)(P,{onSubmit:r}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{children:"\xbfNo tienes cuenta?"}),Object(m.jsx)(l.b,{className:"btn btn-primary ms-2",to:"/signup",children:"Reg\xedstrate"})]})]})},X=r(83),Z=r(77),Q=r.n(Z),ee=function(e){var t=e.onSubmit,r=Object(a.useState)({email:"",password:"",nombre:"",direccion:"",edad:""}),n=Object(E.a)(r,2),c=n[0],s=n[1],o=Object(a.useState)(),i=Object(E.a)(o,2),u=i[0],d=i[1],l=c.email,j=c.password,b=c.nombre,p=c.direccion,x=c.edad,h=Object(a.useRef)(null),O=function(e){s(Object(S.a)(Object(S.a)({},c),{},Object(N.a)({},e.target.name,e.target.value)))},v=function(e){e.preventDefault();var r=null;h.current&&(r=h.current.files);var a=new FormData;Object.entries(c).forEach((function(e){a.append(e[0],e[1])})),a.append("foto",r?r[0]:""),a.append("telefono",u||""),t(a,(function(){s({email:"",password:"",nombre:"",direccion:"",edad:""}),d(void 0),h.current&&(h.current.value="")}))};return Object(m.jsx)("div",{className:f()(Q.a["signup-form"]),children:Object(m.jsxs)(L.a,{onSubmit:function(e){return v(e)},children:[Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(m.jsx)(L.a.Label,{children:"Email"}),Object(m.jsx)(L.a.Control,{type:"text",value:l,name:"email",onChange:O})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"password",children:[Object(m.jsx)(L.a.Label,{children:"Contrase\xf1a"}),Object(m.jsx)(L.a.Control,{type:"password",value:j,name:"password",onChange:O})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(m.jsx)(L.a.Label,{children:"Nombre Completo"}),Object(m.jsx)(L.a.Control,{type:"nombre",value:b,name:"nombre",onChange:O})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"direccion",children:[Object(m.jsx)(L.a.Label,{children:"Direcci\xf3n"}),Object(m.jsx)(L.a.Control,{type:"direccion",value:p,name:"direccion",onChange:O})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"edad",children:[Object(m.jsx)(L.a.Label,{children:"Edad"}),Object(m.jsx)(L.a.Control,{type:"edad",value:x,name:"edad",onChange:O})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"telefono",children:[Object(m.jsx)(L.a.Label,{children:"Tel\xe9fono"}),Object(m.jsx)(X.a,{placeholder:"Enter phone number",value:u,name:"telefono",onChange:d})]}),Object(m.jsxs)(L.a.Group,{controlId:"foto",className:"mb-3",children:[Object(m.jsx)(L.a.Label,{children:"Foto"}),Object(m.jsx)(L.a.Control,{type:"file",ref:h,name:"foto"})]}),Object(m.jsx)(I.a,{className:"mb-2",type:"submit",children:"Registrarse"})]})})},te=function(){var e=R(),t=Object(j.g)(),r=function(){var r=Object(u.a)(i.a.mark((function r(a,n){var c,s,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(U(a)).unwrap();case 3:return n(),k.b.success("\xa1Registro Exitoso!"),c={},a.forEach((function(e,t){return c[t]=e})),s={email:c.email,password:c.password},r.next=10,e(J(s)).unwrap();case 10:t.push("/dashboard"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),o="Missing credentials"===r.t0.message?"Todos los campos son obligatorios":r.t0.message,k.b.error(o);case 17:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Registro de Usuario"}),Object(m.jsx)(k.a,{}),Object(m.jsx)(ee,{onSubmit:r}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{children:"\xbfYa tienes cuenta?"}),Object(m.jsx)(l.b,{className:"btn btn-primary ms-2",to:"/login",children:"Login"})]})]})},re="/api/productos",ae=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(re,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat(re,"/guardar"),t);case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.delete("".concat(re,"/borrar/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(u.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.put("".concat(re,"/actualizar/").concat(t),r);case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),oe=Object(F.b)("products/fetchProducts",Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),ie=Object(F.b)("products/addNewProduct",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue=Object(F.b)("products/editProduct",function(){var e=Object(u.a)(i.a.mark((function e(t){var r,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.product,e.next=3,se(r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),de=Object(F.b)("products/removeProduct",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),le=Object(F.c)({name:"products",initialState:{data:[],status:"idle",error:null},reducers:{removeProduct:function(e,t){e.data=e.data.filter((function(e){return e.id!==t.payload}))}},extraReducers:function(e){e.addCase(oe.pending,(function(e,t){e.status="loading"})).addCase(oe.fulfilled,(function(e,t){e.status="succeeded",e.data=e.data.concat(t.payload)})).addCase(oe.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(ie.fulfilled,(function(e,t){e.data.push(t.payload)})).addCase(ue.fulfilled,(function(e,t){var r=e.data.map((function(e){return e.id})).indexOf(t.payload.id);e.data.splice(r,1,t.payload)}))}}),je=le.actions.removeProduct,be=le.reducer,pe=function(e){var t=e.handleSaveProduct,r=e.addRequestStatus,n=Object(a.useState)({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""}),c=Object(E.a)(n,2),s=c[0],o=c[1],i=s.codigo,u=s.nombre,d=s.descripcion,l=s.precio,j=s.stock,p=s.foto,f=function(e){o(Object(S.a)(Object(S.a)({},s),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(L.a,{children:[Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(m.jsx)(L.a.Label,{children:"C\xf3digo"}),Object(m.jsx)(L.a.Control,{type:"text",value:i,name:"codigo",onChange:f}),Object(m.jsx)(L.a.Text,{className:"text-muted",children:"Debe tener el siguiente formato: ECOM-xxxx-xxx, donde 'x' corresponde a n\xfameros"})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(m.jsx)(L.a.Label,{children:"Nombre"}),Object(m.jsx)(L.a.Control,{type:"text",value:u,name:"nombre",onChange:f})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(m.jsx)(L.a.Label,{children:"Descripci\xf3n"}),Object(m.jsx)(L.a.Control,{type:"textarea",value:d,name:"descripcion",onChange:f})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"precio",children:[Object(m.jsx)(L.a.Label,{children:"Precio"}),Object(m.jsx)(L.a.Control,{type:"text",value:l,name:"precio",onChange:f})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"stock",children:[Object(m.jsx)(L.a.Label,{children:"Stock"}),Object(m.jsx)(L.a.Control,{type:"text",value:j,name:"stock",onChange:f})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"foto",children:[Object(m.jsx)(L.a.Label,{children:"URL de imagen"}),Object(m.jsx)(L.a.Control,{type:"url",value:p,name:"foto",onChange:f})]}),Object(m.jsxs)(I.a,{className:"mb-2",onClick:function(){t(s,(function(){o({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},disabled:"loading"===r,children:["Guardar ","loading"===r&&Object(m.jsx)(b.a,{animation:"border",size:"sm",variant:"light"})]})]})})},fe=function(){var e=Object(a.useState)("idle"),t=Object(E.a)(e,2),r=t[0],n=t[1],c=R(),s=function(){var e=Object(u.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n("loading"),e.next=4,c(ie(t)).unwrap();case 4:r(),k.b.success("El producto fue agregado con \xe9xito"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k.b.error(e.t0.message);case 11:return e.prev=11,n("idle"),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Agrega un producto"}),Object(m.jsx)(k.a,{}),Object(m.jsx)(pe,{handleSaveProduct:s,addRequestStatus:r})]})},xe=r(41),he="/api/carrito",me=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("".concat(he,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.post("".concat(he,"/agregar/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.delete("".concat(he,"/borrar/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ge=Object(F.b)("cart/fetchProductsCart",Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),we=Object(F.b)("cart/addProductToCart",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ye=Object(F.b)("cart/removeProductCart",function(){var e=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ce=Object(F.c)({name:"cart",initialState:{data:[],status:"idle",error:null},reducers:{emptyCart:function(e){e.data=[],e.status="idle",e.error="null"}},extraReducers:function(e){e.addCase(ge.pending,(function(e,t){e.status="loading"})).addCase(ge.fulfilled,(function(e,t){e.status="succeeded",e.data=e.data.concat(t.payload)})).addCase(ge.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(ye.fulfilled,(function(e,t){e.data=t.payload})).addCase(we.fulfilled,(function(e,t){e.data=e.data.concat(t.payload),e.status="succeeded",e.error=null}))}}),_e=Ce.actions.emptyCart,ke=Ce.reducer;function Ne(e){if(e){switch(typeof e){case"string":return""===e||"null"===e||"undefined"===e;case"number":return!1;case"object":return"{}"===JSON.stringify(e)||"[]"===JSON.stringify(e)}return!0}return!0}var Se=r(136),Ee=r(64),Le=r.n(Ee),Ie=function(e){var t=e.product,r=e.handleToggleShowModal,a=e.handleAddToCart;return Object(m.jsxs)(Se.a,{children:[Object(m.jsx)(Se.a.Img,{variant:"top",src:"".concat(t.foto)}),Object(m.jsxs)(Se.a.Body,{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(Se.a.Title,{children:t.nombre}),Object(m.jsxs)(Se.a.Subtitle,{className:"mb-2 text-muted",children:["$",t.precio]}),Object(m.jsx)(Se.a.Text,{children:t.descripcion})]}),Object(m.jsx)("div",{className:"text-end mt-2",children:Object(m.jsx)(Se.a.Text,{children:Object(m.jsx)("small",{children:t.codigo})})}),Object(m.jsxs)("div",{className:f()("d-flex","flex-column",Le.a["product-btns"]),children:[Object(m.jsxs)("div",{className:f()("d-flex","mt-2",Le.a["product-add-edit"]),children:[Object(m.jsx)(I.a,{variant:"danger",onClick:function(){return r(t,"delete")},children:"Eliminar"}),Object(m.jsx)(I.a,{variant:"info",onClick:function(){return r(t,"edit")},children:"Editar"})]}),Object(m.jsx)(I.a,{variant:"primary",onClick:function(){return a(t)},children:"Agregar al carrito"})]})]})]})},Te=r(43),Re=r.n(Te),Ge=function(e){var t=e.product,r=e.handleRemove;return Object(m.jsxs)("div",{className:f()("border","rounded","d-flex",Re.a["product-carrito"]),children:[Object(m.jsx)("img",{src:t.foto,alt:t.nombre,className:f()(Re.a["product-carrito__img"])}),Object(m.jsxs)("div",{className:f()(Re.a["product-carrito__info-container"]),children:[Object(m.jsxs)("div",{className:f()(Re.a["product-carrito__info"]),children:[Object(m.jsx)("h3",{children:t.nombre}),Object(m.jsx)("p",{children:t.descripcion}),Object(m.jsxs)("p",{className:Re.a["product-carrito__price"],children:["$",t.precio]})]}),Object(m.jsx)(I.a,{variant:"danger",onClick:function(){return r(t.id)},children:"Eliminar"})]})]})},Pe=r(79),Fe=r.n(Pe),De=function(e){var t=e.handleToggleShowModal,r=e.productos,a=e.location,n=e.handleRemove,c=e.handleAddToCart;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:f()(Fe.a["product-list"],"my-4","d-flex","flex-wrap","justify-content-center",{"flex-column":"cart"===a}),children:[!Ne(r)&&"home"===a&&t&&c&&r.map((function(e){return Object(m.jsx)(Ie,{product:e,handleToggleShowModal:t,handleAddToCart:c},e.id)})),!Ne(r)&&"cart"===a&&n&&r.map((function(e){return Object(m.jsx)(Ge,{product:e,handleRemove:n},e.id)}))]})})},Me=r(80),qe=r.n(Me),ze=function(){var e=Object(a.useState)(0),t=Object(E.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)("idle"),s=Object(E.a)(c,2),o=s[0],d=s[1],j=G((function(e){return e.cart})),p=j.data,x=j.status,h=j.error,v=R(),g=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d("loading"),Object(xe.a)(document.body),e.next=5,v(ye(t)).unwrap();case 5:k.b.success("Producto eliminado del carrito"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k.b.error(e.t0.message);case 11:return e.prev=11,d("idle"),Object(xe.b)(document.body),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,8,11,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){"idle"===x&&v(ge()),"failed"===x&&k.b.error(h||"Ocurri\xf3 un error")}),[v,x,h]),Object(a.useEffect)((function(){var e=p.reduce((function(e,t){return e+Number(t.precio)}),0);n(e)}),[p]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"text-center mt-5 pt-3 mb-",children:"Carrito"}),Object(m.jsx)(k.a,{}),Object(m.jsx)(De,{productos:p,location:"cart",handleRemove:g}),Ne(p)?"loading"===x?Object(m.jsx)("div",{className:f()(qe.a["spinner-container"]),children:Object(m.jsx)(b.a,{animation:"grow",variant:"primary"})}):Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h2",{children:"El carrito est\xe1 vac\xedo"}),Object(m.jsx)("p",{className:"display-6",children:"Agrega algunos productos"}),Object(m.jsx)(l.b,{to:"/productos",className:"btn btn-primary",children:"Ir a Productos"})]}):Object(m.jsx)("div",{className:"d-flex justify-content-end",children:Object(m.jsxs)("p",{className:"border rounded p-4",children:[Object(m.jsx)("span",{className:"fw-bold",children:"Total:"})," $",r.toFixed(2)]})}),"loading"===o&&Object(m.jsx)(O,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2e3}})]})},Ae=r(132),Be=function(e){var t=e.handleToggleShowModal,r=e.productToDelete,a=e.handleConfirmDelete,n=e.deleteRequestStatus;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ae.a.Header,{children:Object(m.jsx)(Ae.a.Title,{children:"\xbfEstas seguro?"})}),Object(m.jsxs)(Ae.a.Body,{children:["\xbfSeguro que quieres eliminar ",null===r||void 0===r?void 0:r.nombre,"?"]}),Object(m.jsxs)(Ae.a.Footer,{children:[Object(m.jsx)(I.a,{variant:"secondary",onClick:function(){return t()},disabled:"loading"===n,children:"Cancelar"}),Object(m.jsxs)(I.a,{variant:"danger",onClick:a,disabled:"loading"===n,children:["Eliminar ","loading"===n&&Object(m.jsx)(b.a,{animation:"border",size:"sm",variant:"light"})]})]})]})},He=function(e){var t=e.handleToggleShowModal,r=e.productToEdit,n=e.handleConfirmEdit,c=e.editRequestStatus,s=Object(a.useState)({codigo:r.codigo,nombre:r.nombre,descripcion:r.descripcion,precio:r.precio,stock:r.stock,foto:r.foto}),o=Object(E.a)(s,2),i=o[0],u=o[1],d=i.codigo,l=i.nombre,j=i.descripcion,p=i.precio,f=i.stock,x=i.foto,h=function(e){u(Object(S.a)(Object(S.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ae.a.Header,{children:Object(m.jsx)(Ae.a.Title,{children:"Editar producto"})}),Object(m.jsx)(Ae.a.Body,{children:Object(m.jsxs)(L.a,{children:[Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(m.jsx)(L.a.Label,{children:"C\xf3digo"}),Object(m.jsx)(L.a.Control,{type:"text",value:d,name:"codigo",onChange:h})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(m.jsx)(L.a.Label,{children:"Nombre"}),Object(m.jsx)(L.a.Control,{type:"text",value:l,name:"nombre",onChange:h})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(m.jsx)(L.a.Label,{children:"Descripci\xf3n"}),Object(m.jsx)(L.a.Control,{type:"textarea",value:j,name:"descripcion",onChange:h})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"precio",children:[Object(m.jsx)(L.a.Label,{children:"Precio"}),Object(m.jsx)(L.a.Control,{type:"text",value:p,name:"precio",onChange:h})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"stock",children:[Object(m.jsx)(L.a.Label,{children:"Stock"}),Object(m.jsx)(L.a.Control,{type:"text",value:f,name:"stock",onChange:h})]}),Object(m.jsxs)(L.a.Group,{className:"mb-3",controlId:"foto",children:[Object(m.jsx)(L.a.Label,{children:"URL de imagen"}),Object(m.jsx)(L.a.Control,{type:"url",value:x,name:"foto",onChange:h})]})]})}),Object(m.jsxs)(Ae.a.Footer,{children:[Object(m.jsx)(I.a,{variant:"secondary",onClick:function(){return t()},disabled:"loading"===c,children:"Cancelar"}),Object(m.jsxs)(I.a,{variant:"primary",onClick:function(){var e=Object(S.a)(Object(S.a)({},r),i);n(e,(function(){u({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},disabled:"loading"===c,children:["Editar ","loading"===c&&Object(m.jsx)(b.a,{animation:"border",size:"sm",variant:"light"})]})]})]})},Ue=r(82),Je=r.n(Ue),Ye=function(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(null),s=Object(E.a)(c,2),o=s[0],d=s[1],l=Object(a.useState)(null),j=Object(E.a)(l,2),p=j[0],x=j[1],h=Object(a.useState)("idle"),v=Object(E.a)(h,2),g=v[0],w=v[1],y=Object(a.useState)("idle"),C=Object(E.a)(y,2),_=C[0],N=C[1],S=Object(a.useState)("idle"),L=Object(E.a)(S,2),I=L[0],T=L[1],P=G((function(e){return e.products})),F=P.data,D=P.status,M=P.error,q=R(),z=function(e,t){e&&"delete"===t&&(d(e),x(null)),e&&"edit"===t&&(x(e),d(null)),n((function(e){return!e}))},A=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=17;break}return e.prev=1,w("loading"),e.next=5,q(de(o.id)).unwrap();case 5:q(je(o.id)),z(),k.b.success("".concat(o.nombre," eliminado con \xe9xito")),setTimeout((function(){d(null)}),1e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),k.b.error(e.t0.message);case 14:return e.prev=14,w("idle"),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,!p){e.next=18;break}return e.prev=2,N("loading"),e.next=6,q(ue({id:a,product:t})).unwrap();case 6:r(),z(),k.b.success("".concat(p.nombre," editado con \xe9xito")),setTimeout((function(){x(null)}),1e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),k.b.error(e.t0.message);case 15:return e.prev=15,N("idle"),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t,r){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T("loading"),Object(xe.a)(document.body),e.next=5,q(we(t.id)).unwrap();case 5:k.b.success("".concat(t.nombre," agregado al carrito")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k.b.error(e.t0.message);case 11:return e.prev=11,T("idle"),Object(xe.b)(document.body),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,8,11,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){"idle"===D?q(oe()):"failed"===D&&k.b.error(M)}),[D,q,M]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Productos"}),"loading"===D&&Object(m.jsx)("div",{className:f()(Je.a["spinner-container"]),children:Object(m.jsx)(b.a,{animation:"grow",variant:"primary"})}),"succeeded"===D&&Object(m.jsx)(De,{location:"home",productos:F,handleToggleShowModal:z,handleAddToCart:H}),Object(m.jsx)(k.a,{}),Object(m.jsxs)(Ae.a,{show:r,onHide:function(){return z()},children:[o&&Object(m.jsx)(Be,{productToDelete:o,handleConfirmDelete:A,handleToggleShowModal:z,deleteRequestStatus:g}),p&&Object(m.jsx)(He,{productToEdit:p,handleConfirmEdit:B,handleToggleShowModal:z,editRequestStatus:_})]}),"loading"===I&&Object(m.jsx)(O,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2e3}})]})},$e=r(131),Ke=r(47),Ve=r.n(Ke),We=function(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),r=t[0],n=t[1],c=G((function(e){return e.user})),s=c.data,o=c.status,d=c.error,l=R(),j=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(Y()).unwrap();case 3:l(_e()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),n("Hubo un error, por favor intente de nuevo."),setTimeout((function(){n("")}),3e3);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Dashboard"}),d&&Object(m.jsx)($e.a,{variant:"danger",children:Object(m.jsx)("span",{className:"me-3",children:r})}),Object(m.jsx)($e.a,{variant:"success",children:Object(m.jsx)("div",{className:"text-center",children:Object(m.jsxs)("span",{className:"me-3 fw-bold",children:["Bienvenido/a ",null===s||void 0===s?void 0:s.nombre]})})}),Object(m.jsxs)("div",{className:f()(Ve.a["user-data-container"]),children:[Object(m.jsxs)("div",{className:f()(Ve.a["user-data"]),children:[Object(m.jsx)("img",{src:null===s||void 0===s?void 0:s.foto,alt:"foto ".concat(null===s||void 0===s?void 0:s.nombre),className:f()(Ve.a["user-data__img"])}),Object(m.jsxs)("div",{className:f()(Ve.a["user-data__info"]),children:[Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"fw-bold",children:"Email:"})," ",null===s||void 0===s?void 0:s.email]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"fw-bold",children:"Direccion:"})," ",null===s||void 0===s?void 0:s.direccion]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"fw-bold",children:"Edad:"})," ",null===s||void 0===s?void 0:s.edad]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"fw-bold",children:"Tel\xe9fono:"})," ",null===s||void 0===s?void 0:s.telefono]})]})]}),Object(m.jsx)(I.a,{onClick:"loading"===o?void 0:j,disabled:"loading"===o,children:"loading"===o?"Procesando...":"Logout"})]})]})},Xe=function(){var e=G((function(e){return e.user})),t=e.status,r=e.isLoggedIn,n=R(),c=function(e){var t={};return document.cookie.split(";").forEach((function(e){var r=e.split("="),a=Object(E.a)(r,2),n=a[0],c=a[1];t[n.trim()]=c})),t[e]}("connect.sid");return Object(a.useEffect)((function(){c&&"idle"===t&&function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n($()).unwrap();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()()}),[t,n,c]),Object(m.jsx)(l.a,{children:!c||"idle"!==t&&"loading"!==t?Object(m.jsxs)(m.Fragment,{children:[r&&Object(m.jsx)(_,{}),Object(m.jsx)(d.a,{children:Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{path:"/login",children:Object(m.jsx)(W,{})}),Object(m.jsx)(j.b,{path:"/signup",children:Object(m.jsx)(te,{})}),Object(m.jsx)(j.b,{path:"/add-product",children:r?Object(m.jsx)(fe,{}):Object(m.jsx)(j.a,{to:"/login"})}),Object(m.jsx)(j.b,{path:"/cart",children:r?Object(m.jsx)(ze,{}):Object(m.jsx)(j.a,{to:"/login"})}),Object(m.jsx)(j.b,{path:"/productos",children:r?Object(m.jsx)(Ye,{}):Object(m.jsx)(j.a,{to:"/login"})}),Object(m.jsx)(j.b,{path:"/",children:r?Object(m.jsx)(We,{}):Object(m.jsx)(j.a,{to:"/login"})})]})})]}):Object(m.jsx)(O,{})})},Ze=Object(F.a)({reducer:{products:be,cart:ke,user:V}});r(120),r(121),r(122);s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(T.a,{store:Ze,children:Object(m.jsx)(Xe,{})})}),document.getElementById("root"))},43:function(e,t,r){e.exports={"product-carrito":"styles_product-carrito__w9h_z","product-carrito__img":"styles_product-carrito__img__3lOp8","product-carrito__info-container":"styles_product-carrito__info-container__xkUfY","product-carrito__info":"styles_product-carrito__info__3cczg","product-carrito__price":"styles_product-carrito__price__3CqFm"}},47:function(e,t,r){e.exports={"user-data-container":"styles_user-data-container__1uE-6","user-data":"styles_user-data__1vxLo","user-data__img":"styles_user-data__img__1liEm","user-data__info":"styles_user-data__info__2w3SR"}},64:function(e,t,r){e.exports={"product-btns":"styles_product-btns__KMiLf","product-add-edit":"styles_product-add-edit__3EXs6"}},73:function(e,t,r){e.exports={"loading-screen":"styles_loading-screen__LPC8w"}},74:function(e,t,r){e.exports={"cart-icon":"styles_cart-icon__Preeq"}},77:function(e,t,r){e.exports={"signup-form":"styles_signup-form__1eRgY"}},79:function(e,t,r){e.exports={"product-list":"styles_product-list__1ieW6"}},80:function(e,t,r){e.exports={"spinner-container":"styles_spinner-container__1T7VE"}},82:function(e,t,r){e.exports={"spinner-container":"styles_spinner-container__ZMR1j"}}},[[123,1,2]]]);
//# sourceMappingURL=main.cabd6ab3.chunk.js.map