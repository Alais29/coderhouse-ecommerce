(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(25),o=n.n(a),s=n(10),i=n(108),l=n(24),d=n(11),u=n(114),j=n(113),b=n(1),h=function(){return Object(b.jsxs)("svg",{height:"20px",viewBox:"0 -31 512.00033 512",width:"20px",xmlns:"http://www.w3.org/2000/svg",fill:"#9b9d9e",children:[Object(b.jsx)("path",{d:"m166 300.003906h271.003906c6.710938 0 12.597656-4.4375 14.414063-10.882812l60.003906-210.003906c1.289063-4.527344.40625-9.390626-2.433594-13.152344-2.84375-3.75-7.265625-5.964844-11.984375-5.964844h-365.632812l-10.722656-48.25c-1.523438-6.871094-7.617188-11.75-14.648438-11.75h-91c-8.289062 0-15 6.710938-15 15 0 8.292969 6.710938 15 15 15h78.960938l54.167968 243.75c-15.9375 6.929688-27.128906 22.792969-27.128906 41.253906 0 24.8125 20.1875 45 45 45h271.003906c8.292969 0 15-6.707031 15-15 0-8.289062-6.707031-15-15-15h-271.003906c-8.261719 0-15-6.722656-15-15s6.738281-15 15-15zm0 0"}),Object(b.jsx)("path",{d:"m151 405.003906c0 24.816406 20.1875 45 45.003906 45 24.8125 0 45-20.183594 45-45 0-24.8125-20.1875-45-45-45-24.816406 0-45.003906 20.1875-45.003906 45zm0 0"}),Object(b.jsx)("path",{d:"m362.003906 405.003906c0 24.816406 20.1875 45 45 45 24.816406 0 45-20.183594 45-45 0-24.8125-20.183594-45-45-45-24.8125 0-45 20.1875-45 45zm0 0"})]})},p=n(22),x=n.n(p),O=n(68),g=n.n(O),f=function(e){e.loggedIn;return Object(b.jsxs)(u.a,{bg:"dark",variant:"dark",fixed:"top",expand:"sm",children:[Object(b.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(b.jsx)(u.a.Collapse,{id:"responsive-navbar-nav",children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(j.a,{className:"me-auto",children:[Object(b.jsx)(l.b,{className:"nav-link",to:"/",children:"Inicio"}),Object(b.jsx)(l.b,{className:"nav-link",to:"/login",children:"Login"}),Object(b.jsx)(l.b,{className:x()("nav-link","ms-sm-auto",g.a["cart-icon"]),to:"/cart",children:Object(b.jsx)(h,{})})]})})})]})},m=n(12),v=n.n(m),w=n(19),y=n(20),_=n.n(y),C="/api/carrito",N=function(){var e=Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("".concat(C,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(C,"/agregar/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.delete("".concat(C,"/borrar/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function S(e){if(e){switch(typeof e){case"string":return""===e||"null"===e||"undefined"===e;case"number":return!1;case"object":return"{}"===JSON.stringify(e)||"[]"===JSON.stringify(e)}return!0}return!0}var k=n(116),L=n(109),E=n(57),F=n.n(E),M=function(e){var t=e.product,n=e.handleToggleShowModal,c=e.handleAddToCart;return Object(b.jsxs)(k.a,{children:[Object(b.jsx)(k.a.Img,{variant:"top",src:"".concat(t.foto)}),Object(b.jsxs)(k.a.Body,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(k.a.Title,{children:t.nombre}),Object(b.jsxs)(k.a.Subtitle,{className:"mb-2 text-muted",children:["$",t.precio]}),Object(b.jsx)(k.a.Text,{children:t.descripcion})]}),Object(b.jsx)("div",{className:"text-end mt-2",children:Object(b.jsx)(k.a.Text,{children:Object(b.jsx)("small",{children:t.codigo})})}),Object(b.jsxs)("div",{className:x()("d-flex","flex-column",F.a["product-btns"]),children:[Object(b.jsxs)("div",{className:x()("d-flex","mt-2",F.a["product-add-edit"]),children:[Object(b.jsx)(L.a,{variant:"danger",onClick:function(){return n(t,"delete")},children:"Eliminar"}),Object(b.jsx)(L.a,{variant:"info",onClick:function(){return n(t,"edit")},children:"Editar"})]}),Object(b.jsx)(L.a,{variant:"primary",onClick:function(){return c(t)},children:"Agregar al carrito"})]})]})]})},U=n(49),A=n.n(U),G=function(e){var t=e.product,n=e.handleRemove;return Object(b.jsxs)("div",{className:x()("border","rounded","d-flex",A.a["product-carrito"]),children:[Object(b.jsx)("img",{src:t.foto,alt:t.nombre,className:A.a["product-carrito__img"]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-grow-1",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:t.nombre}),Object(b.jsx)("p",{children:t.descripcion}),Object(b.jsxs)("p",{className:A.a["product-carrito__price"],children:["$",t.precio]})]}),Object(b.jsx)(L.a,{variant:"danger",onClick:function(){return n(t.id)},children:"Eliminar"})]})]})},B=n(70),z=n.n(B),J=function(e){var t=e.handleToggleShowModal,n=e.productos,c=e.location,r=e.handleRemove,a=e.handleAddToCart;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:x()(z.a["product-list"],"my-4","d-flex","flex-wrap","justify-content-center",{"flex-column":"cart"===c}),children:[!S(n)&&t&&a&&"home"===c&&n.map((function(e){return Object(b.jsx)(M,{product:e,handleToggleShowModal:t,handleAddToCart:a},e.id)})),!S(n)&&"cart"===c&&r&&n.map((function(e){return Object(b.jsx)(G,{product:e,handleRemove:r},e.id)}))]})})},P=n(115),D=n(58),R=n.n(D),q=function(e){var t=e.show,n=e.handleToggleShowToast,c=e.toastInfo;return Object(b.jsx)("div",{className:x()(R.a.notification,R.a[c.type]),children:Object(b.jsx)(P.a,{show:t,onClose:function(){return n()},delay:3e3,autohide:!0,children:Object(b.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(b.jsx)(P.a.Body,{children:c.text}),Object(b.jsx)("button",{type:"button",className:"btn-close ms-3 me-3","aria-label":"Close","data-dismiss":"toast",onClick:function(){return n()}})]})})})},H=function(e){var t=e.setLoggedIn,n=Object(c.useState)([]),r=Object(s.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)(0),u=Object(s.a)(i,2),j=u[0],h=u[1],p=Object(c.useState)(!1),x=Object(s.a)(p,2),O=x[0],g=x[1],f=Object(c.useState)({text:"",type:""}),m=Object(s.a)(f,2),v=m[0],w=m[1],y=Object(d.f)(),_=function(e){g(!O),e&&w(e)};return Object(c.useEffect)((function(){N().then((function(e){o(e)})).catch((function(e){if("No Autorizado"===e.message)return t(!1),void y.push("/login");w({text:e.message,type:"danger"}),g((function(e){return!e}))}))}),[y,t]),Object(c.useEffect)((function(){var e=a.reduce((function(e,t){return e+Number(t.precio)}),0);h(e)}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-center mt-5 pt-3 mb-",children:"Carrito"}),Object(b.jsx)(q,{show:O,handleToggleShowToast:_,toastInfo:v}),Object(b.jsx)(J,{productos:a,location:"cart",handleRemove:function(e){T(e).then((function(e){o(e)})).catch((function(e){_({text:e.message,type:"warning"})}))}}),S(a)?Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("h2",{className:"",children:"El carrito est\xe1 vac\xedo"}),Object(b.jsx)("p",{className:"display-6",children:"Agrega algunos productos"}),Object(b.jsx)(l.b,{to:"/",className:"btn btn-primary",children:"Ir a inicio"})]}):Object(b.jsx)("div",{className:"d-flex justify-content-end",children:Object(b.jsxs)("p",{className:"border rounded p-4",children:[Object(b.jsx)("span",{className:"fw-bold",children:"Total:"})," $",j]})})]})},$=n(3),W=n(111),K="/api/productos",X=function(){var e=Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("".concat(K,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.delete("".concat(K,"/borrar/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(w.a)(v.a.mark((function e(t,n){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.put("".concat(K,"/actualizar/").concat(t),n);case 3:return c=e.sent,e.abrupt("return",c.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(e){var t=e.handleToggleShowModal,n=e.productToDelete,c=e.handleConfirmDelete;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(W.a.Header,{children:Object(b.jsx)(W.a.Title,{children:"\xbfEstas seguro?"})}),Object(b.jsxs)(W.a.Body,{children:["\xbfSeguro que quieres eliminar ",null===n||void 0===n?void 0:n.nombre,"?"]}),Object(b.jsxs)(W.a.Footer,{children:[Object(b.jsx)(L.a,{variant:"secondary",onClick:function(){return t()},children:"Cancelar"}),Object(b.jsx)(L.a,{variant:"danger",onClick:c,children:"Eliminar"})]})]})},Z=n(8),ee=n(2),te=n(112),ne=function(e){var t=e.handleToggleShowModal,n=e.productToEdit,r=e.handleConfirmEdit,a=Object(c.useState)({codigo:n.codigo,nombre:n.nombre,descripcion:n.descripcion,precio:n.precio,stock:n.stock,foto:n.foto}),o=Object(s.a)(a,2),i=o[0],l=o[1],d=i.codigo,u=i.nombre,j=i.descripcion,h=i.precio,p=i.stock,x=i.foto,O=function(e){l(Object(ee.a)(Object(ee.a)({},i),{},Object(Z.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(W.a.Header,{children:Object(b.jsx)(W.a.Title,{children:"Editar producto"})}),Object(b.jsx)(W.a.Body,{children:Object(b.jsxs)(te.a,{children:[Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(b.jsx)(te.a.Label,{children:"C\xf3digo"}),Object(b.jsx)(te.a.Control,{type:"text",value:d,name:"codigo",onChange:O})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(b.jsx)(te.a.Label,{children:"Nombre"}),Object(b.jsx)(te.a.Control,{type:"text",value:u,name:"nombre",onChange:O})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(b.jsx)(te.a.Label,{children:"Descripci\xf3n"}),Object(b.jsx)(te.a.Control,{type:"textarea",value:j,name:"descripcion",onChange:O})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"precio",children:[Object(b.jsx)(te.a.Label,{children:"Precio"}),Object(b.jsx)(te.a.Control,{type:"text",value:h,name:"precio",onChange:O})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"stock",children:[Object(b.jsx)(te.a.Label,{children:"Stock"}),Object(b.jsx)(te.a.Control,{type:"text",value:p,name:"stock",onChange:O})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"foto",children:[Object(b.jsx)(te.a.Label,{children:"URL de imagen"}),Object(b.jsx)(te.a.Control,{type:"url",value:x,name:"foto",onChange:O})]})]})}),Object(b.jsxs)(W.a.Footer,{children:[Object(b.jsx)(L.a,{variant:"secondary",onClick:function(){return t()},children:"Cancelar"}),Object(b.jsx)(L.a,{variant:"primary",onClick:function(){var e=Object(ee.a)(Object(ee.a)({},n),i);r(e,(function(){l({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},children:"Editar"})]})]})},ce=function(e){var t=e.setLoggedIn,n=Object(c.useState)(!1),r=Object(s.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)(!1),l=Object(s.a)(i,2),u=l[0],j=l[1],h=Object(c.useState)({text:"",type:""}),p=Object(s.a)(h,2),x=p[0],O=p[1],g=Object(c.useState)(null),f=Object(s.a)(g,2),m=f[0],v=f[1],w=Object(c.useState)(null),y=Object(s.a)(w,2),_=y[0],C=y[1],N=Object(c.useState)([]),T=Object(s.a)(N,2),k=T[0],L=T[1],E=Object(d.f)(),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",type:""};S(e.text)||O(e),j(!u)},M=function(e,t){e&&"delete"===t&&(v(e),C(null)),e&&"edit"===t&&(C(e),v(null)),o(!a)};return Object(c.useEffect)((function(){X().then((function(e){L(e)})).catch((function(e){if("No Autorizado"===e.message)return t(!1),void E.push("/login");O({type:"danger",text:e.message}),j((function(e){return!e}))}))}),[E,t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Productos"}),Object(b.jsx)(J,{location:"home",productos:k,handleToggleShowModal:M,handleAddToCart:function(e){I(e.id).then((function(){F({text:"".concat(e.nombre," agregado al carrito"),type:"success"})})).catch((function(e){F({text:e.message,type:"warning"})}))}}),Object(b.jsx)(q,{show:u,handleToggleShowToast:F,toastInfo:x}),Object(b.jsxs)(W.a,{show:a,onHide:function(){return M()},children:[m&&Object(b.jsx)(Y,{productToDelete:m,handleConfirmDelete:function(){m&&Q(m.id).then((function(){M(),F({text:"Producto eliminado con \xe9xito",type:"success"});var e=k.filter((function(e){return e.id!==m.id}));L(e),setTimeout((function(){v(null)}),1e3)})).catch((function(e){F({type:"warning",text:e.message}),M(),setTimeout((function(){v(null)}),1e3)}))},handleToggleShowModal:M}),_&&Object(b.jsx)(ne,{productToEdit:_,handleConfirmEdit:function(e,t){var n=e.id,c=(e.timestamp,Object($.a)(e,["id","timestamp"]));_&&V(n,c).then((function(e){t();var n=k.map((function(e){return e.id})).indexOf(e.id),c=JSON.parse(JSON.stringify(k));c.splice(n,1,e),L(c),M(),F({text:"Producto editado con \xe9xito",type:"success"}),setTimeout((function(){C(null)}),1e3)})).catch((function(e){F({type:"warning",text:e.message}),M(),setTimeout((function(){C(null)}),1e3)}))},handleToggleShowModal:M})]})]})},re=n(110),ae="/api",oe=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(ae,"/login"),{name:t});case 3:return n=e.sent,console.log(n.data.data),e.abrupt("return",n.data.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("".concat(ae,"/logout"));case 3:return t=e.sent,console.log(t.data.data),e.abrupt("return",t.data.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ie=function(e){var t=e.setLoggedIn,n=e.loggedIn,r=e.loggedInUser,a=e.setLoggedInUser,o=Object(c.useState)(""),i=Object(s.a)(o,2),l=i[0],d=i[1],u=Object(c.useState)(""),j=Object(s.a)(u,2),h=j[0],p=j[1];return Object(b.jsxs)("div",{children:[n&&Object(b.jsxs)(re.a,{variant:"success",children:[Object(b.jsxs)("span",{className:"me-3",children:["Bienvenido/a ",r]}),Object(b.jsx)(L.a,{onClick:function(){se().then((function(){console.log("desloggeado"),t(!1),p("Hasta luego ".concat(r)),setTimeout((function(){p(""),a("")}),2e3)}))},children:"Logout"})]}),h&&Object(b.jsx)(re.a,{variant:"primary",children:Object(b.jsx)("span",{className:"me-3",children:h})}),Object(b.jsxs)(te.a,{children:[Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(b.jsx)(te.a.Label,{children:"Ingrese su nombre"}),Object(b.jsx)(te.a.Control,{type:"text",value:l,name:"nombre",onChange:function(e){return d(e.target.value)}})]}),Object(b.jsx)(L.a,{className:"mb-2",onClick:function(){oe(l).then((function(e){t(!0),a(e.name)}))},children:"Guardar"})]})]})},le=function(e){var t=e.setLoggedIn,n=e.loggedIn,c=e.loggedInUser,r=e.setLoggedInUser;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Login de Usuario"}),Object(b.jsx)(ie,{setLoggedIn:t,loggedIn:n,loggedInUser:c,setLoggedInUser:r})]})},de=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(s.a)(a,2),u=o[0],j=o[1];return Object(b.jsxs)(l.a,{children:[Object(b.jsx)(f,{loggedIn:n}),Object(b.jsx)(i.a,{children:Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{path:"/cart",children:Object(b.jsx)(H,{setLoggedIn:r})}),Object(b.jsx)(d.a,{path:"/login",children:Object(b.jsx)(le,{setLoggedIn:r,loggedIn:n,loggedInUser:u,setLoggedInUser:j})}),Object(b.jsx)(d.a,{path:"/",children:Object(b.jsx)(ce,{setLoggedIn:r})})]})})]})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,117)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};n(105);o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(de,{})}),document.getElementById("root")),ue()},49:function(e,t,n){e.exports={"product-carrito":"styles_product-carrito__w9h_z","product-carrito__img":"styles_product-carrito__img__3lOp8","product-carrito__price":"styles_product-carrito__price__3CqFm"}},57:function(e,t,n){e.exports={"product-btns":"styles_product-btns__KMiLf","product-add-edit":"styles_product-add-edit__3EXs6"}},58:function(e,t,n){e.exports={notification:"styles_notification__1W_Ae",danger:"styles_danger__1GI2w",warning:"styles_warning__1oMJi",success:"styles_success__I1hLo"}},68:function(e,t,n){e.exports={"cart-icon":"styles_cart-icon__Preeq"}},70:function(e,t,n){e.exports={"product-list":"styles_product-list__1ieW6"}}},[[106,1,2]]]);
//# sourceMappingURL=main.9b18ebf8.chunk.js.map