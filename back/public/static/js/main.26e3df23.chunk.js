(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{101:function(e,t,n){e.exports={"product-list":"styles_product-list__1ieW6"}},167:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(31),s=n.n(r),o=n(7),i=n(169),l=n(21),u=n(12),d=n(175),j=n(174),b=n(0),h=function(){return Object(b.jsxs)("svg",{height:"20px",viewBox:"0 -31 512.00033 512",width:"20px",xmlns:"http://www.w3.org/2000/svg",fill:"#9b9d9e",children:[Object(b.jsx)("path",{d:"m166 300.003906h271.003906c6.710938 0 12.597656-4.4375 14.414063-10.882812l60.003906-210.003906c1.289063-4.527344.40625-9.390626-2.433594-13.152344-2.84375-3.75-7.265625-5.964844-11.984375-5.964844h-365.632812l-10.722656-48.25c-1.523438-6.871094-7.617188-11.75-14.648438-11.75h-91c-8.289062 0-15 6.710938-15 15 0 8.292969 6.710938 15 15 15h78.960938l54.167968 243.75c-15.9375 6.929688-27.128906 22.792969-27.128906 41.253906 0 24.8125 20.1875 45 45 45h271.003906c8.292969 0 15-6.707031 15-15 0-8.289062-6.707031-15-15-15h-271.003906c-8.261719 0-15-6.722656-15-15s6.738281-15 15-15zm0 0"}),Object(b.jsx)("path",{d:"m151 405.003906c0 24.816406 20.1875 45 45.003906 45 24.8125 0 45-20.183594 45-45 0-24.8125-20.1875-45-45-45-24.816406 0-45.003906 20.1875-45.003906 45zm0 0"}),Object(b.jsx)("path",{d:"m362.003906 405.003906c0 24.816406 20.1875 45 45 45 24.816406 0 45-20.183594 45-45 0-24.8125-20.183594-45-45-45-24.8125 0-45 20.1875-45 45zm0 0"})]})},m=n(14),p=n.n(m),x=n(99),O=n.n(x),f=function(){return Object(b.jsxs)(d.a,{bg:"dark",variant:"dark",fixed:"top",expand:"sm",children:[Object(b.jsx)(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(b.jsx)(d.a.Collapse,{id:"responsive-navbar-nav",children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(j.a,{className:"me-auto",children:[Object(b.jsx)(l.b,{className:"nav-link",to:"/",children:"Inicio"}),Object(b.jsx)(l.b,{className:"nav-link",to:"/chat",children:"Chat"}),Object(b.jsx)(l.b,{className:"nav-link",to:"/login",children:"Login"}),Object(b.jsx)(l.b,{className:p()("nav-link","ms-sm-auto",O.a["cart-icon"]),to:"/cart",children:Object(b.jsx)(h,{})})]})})})]})},g=n(11),v=n.n(g),_=n(18),w=n(19),y=n.n(w),N="/api/carrito",C=function(){var e=Object(_.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(N,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(_.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(N,"/agregar/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(_.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("".concat(N,"/borrar/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function k(e){if(e){switch(typeof e){case"string":return""===e||"null"===e||"undefined"===e;case"number":return!1;case"object":return"{}"===JSON.stringify(e)||"[]"===JSON.stringify(e)}return!0}return!0}var I=n(177),E=n(170),L=n(71),M=n.n(L),F=function(e){var t=e.product,n=e.handleToggleShowModal,a=e.handleAddToCart;return Object(b.jsxs)(I.a,{children:[Object(b.jsx)(I.a.Img,{variant:"top",src:"".concat(t.foto)}),Object(b.jsxs)(I.a.Body,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(I.a.Title,{children:t.nombre}),Object(b.jsxs)(I.a.Subtitle,{className:"mb-2 text-muted",children:["$",t.precio]}),Object(b.jsx)(I.a.Text,{children:t.descripcion})]}),Object(b.jsx)("div",{className:"text-end mt-2",children:Object(b.jsx)(I.a.Text,{children:Object(b.jsx)("small",{children:t.codigo})})}),Object(b.jsxs)("div",{className:p()("d-flex","flex-column",M.a["product-btns"]),children:[Object(b.jsxs)("div",{className:p()("d-flex","mt-2",M.a["product-add-edit"]),children:[Object(b.jsx)(E.a,{variant:"danger",onClick:function(){return n(t,"delete")},children:"Eliminar"}),Object(b.jsx)(E.a,{variant:"info",onClick:function(){return n(t,"edit")},children:"Editar"})]}),Object(b.jsx)(E.a,{variant:"primary",onClick:function(){return a(t)},children:"Agregar al carrito"})]})]})]})},A=n(60),D=n.n(A),R=function(e){var t=e.product,n=e.handleRemove;return Object(b.jsxs)("div",{className:p()("border","rounded","d-flex",D.a["product-carrito"]),children:[Object(b.jsx)("img",{src:t.foto,alt:t.nombre,className:D.a["product-carrito__img"]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-grow-1",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:t.nombre}),Object(b.jsx)("p",{children:t.descripcion}),Object(b.jsxs)("p",{className:D.a["product-carrito__price"],children:["$",t.precio]})]}),Object(b.jsx)(E.a,{variant:"danger",onClick:function(){return n(t.id)},children:"Eliminar"})]})]})},G=n(101),P=n.n(G),B=function(e){var t=e.handleToggleShowModal,n=e.productos,a=e.location,c=e.handleRemove,r=e.handleAddToCart;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:p()(P.a["product-list"],"my-4","d-flex","flex-wrap","justify-content-center",{"flex-column":"cart"===a}),children:[!k(n)&&t&&r&&"home"===a&&n.map((function(e){return Object(b.jsx)(F,{product:e,handleToggleShowModal:t,handleAddToCart:r},e.id)})),!k(n)&&"cart"===a&&c&&n.map((function(e){return Object(b.jsx)(R,{product:e,handleRemove:c},e.id)}))]})})},J=n(176),z=n(72),H=n.n(z),U=function(e){var t=e.show,n=e.handleToggleShowToast,a=e.toastInfo;return Object(b.jsx)("div",{className:p()(H.a.notification,H.a[a.type]),children:Object(b.jsx)(J.a,{show:t,onClose:function(){return n()},delay:3e3,autohide:!0,children:Object(b.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(b.jsx)(J.a.Body,{children:a.text}),Object(b.jsx)("button",{type:"button",className:"btn-close ms-3 me-3","aria-label":"Close","data-dismiss":"toast",onClick:function(){return n()}})]})})})},Y=function(e){var t=e.setLoggedIn,n=Object(a.useState)([]),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(0),d=Object(o.a)(i,2),j=d[0],h=d[1],m=Object(a.useState)(!1),p=Object(o.a)(m,2),x=p[0],O=p[1],f=Object(a.useState)({text:"",type:""}),g=Object(o.a)(f,2),v=g[0],_=g[1],w=Object(u.f)(),y=function(e){O(!x),e&&_(e)};return Object(a.useEffect)((function(){C().then((function(e){s(e)})).catch((function(e){if("No Autorizado"===e.message)return t(!1),void w.push("/login");_({text:e.message,type:"danger"}),O((function(e){return!e}))}))}),[w,t]),Object(a.useEffect)((function(){var e=r.reduce((function(e,t){return e+Number(t.precio)}),0);h(e)}),[r]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-center mt-5 pt-3 mb-",children:"Carrito"}),Object(b.jsx)(U,{show:x,handleToggleShowToast:y,toastInfo:v}),Object(b.jsx)(B,{productos:r,location:"cart",handleRemove:function(e){T(e).then((function(e){s(e)})).catch((function(e){y({text:e.message,type:"warning"})}))}}),k(r)?Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("h2",{className:"",children:"El carrito est\xe1 vac\xedo"}),Object(b.jsx)("p",{className:"display-6",children:"Agrega algunos productos"}),Object(b.jsx)(l.b,{to:"/",className:"btn btn-primary",children:"Ir a inicio"})]}):Object(b.jsx)("div",{className:"d-flex justify-content-end",children:Object(b.jsxs)("p",{className:"border rounded p-4",children:[Object(b.jsx)("span",{className:"fw-bold",children:"Total:"})," $",j]})})]})},q=n(3),W=n(172),$="/api/productos",K=function(){var e=Object(_.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat($,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(_.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("".concat($,"/borrar/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(_.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.put("".concat($,"/actualizar/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(e){var t=e.handleToggleShowModal,n=e.productToDelete,a=e.handleConfirmDelete;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(W.a.Header,{children:Object(b.jsx)(W.a.Title,{children:"\xbfEstas seguro?"})}),Object(b.jsxs)(W.a.Body,{children:["\xbfSeguro que quieres eliminar ",null===n||void 0===n?void 0:n.nombre,"?"]}),Object(b.jsxs)(W.a.Footer,{children:[Object(b.jsx)(E.a,{variant:"secondary",onClick:function(){return t()},children:"Cancelar"}),Object(b.jsx)(E.a,{variant:"danger",onClick:a,children:"Eliminar"})]})]})},Z=n(8),ee=n(2),te=n(173),ne=function(e){var t=e.handleToggleShowModal,n=e.productToEdit,c=e.handleConfirmEdit,r=Object(a.useState)({codigo:n.codigo,nombre:n.nombre,descripcion:n.descripcion,precio:n.precio,stock:n.stock,foto:n.foto}),s=Object(o.a)(r,2),i=s[0],l=s[1],u=i.codigo,d=i.nombre,j=i.descripcion,h=i.precio,m=i.stock,p=i.foto,x=function(e){l(Object(ee.a)(Object(ee.a)({},i),{},Object(Z.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(W.a.Header,{children:Object(b.jsx)(W.a.Title,{children:"Editar producto"})}),Object(b.jsx)(W.a.Body,{children:Object(b.jsxs)(te.a,{children:[Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(b.jsx)(te.a.Label,{children:"C\xf3digo"}),Object(b.jsx)(te.a.Control,{type:"text",value:u,name:"codigo",onChange:x})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(b.jsx)(te.a.Label,{children:"Nombre"}),Object(b.jsx)(te.a.Control,{type:"text",value:d,name:"nombre",onChange:x})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(b.jsx)(te.a.Label,{children:"Descripci\xf3n"}),Object(b.jsx)(te.a.Control,{type:"textarea",value:j,name:"descripcion",onChange:x})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"precio",children:[Object(b.jsx)(te.a.Label,{children:"Precio"}),Object(b.jsx)(te.a.Control,{type:"text",value:h,name:"precio",onChange:x})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"stock",children:[Object(b.jsx)(te.a.Label,{children:"Stock"}),Object(b.jsx)(te.a.Control,{type:"text",value:m,name:"stock",onChange:x})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"foto",children:[Object(b.jsx)(te.a.Label,{children:"URL de imagen"}),Object(b.jsx)(te.a.Control,{type:"url",value:p,name:"foto",onChange:x})]})]})}),Object(b.jsxs)(W.a.Footer,{children:[Object(b.jsx)(E.a,{variant:"secondary",onClick:function(){return t()},children:"Cancelar"}),Object(b.jsx)(E.a,{variant:"primary",onClick:function(){var e=Object(ee.a)(Object(ee.a)({},n),i);c(e,(function(){l({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},children:"Editar"})]})]})},ae=function(e){var t=e.setLoggedIn,n=Object(a.useState)(!1),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),d=l[0],j=l[1],h=Object(a.useState)({text:"",type:""}),m=Object(o.a)(h,2),p=m[0],x=m[1],O=Object(a.useState)(null),f=Object(o.a)(O,2),g=f[0],v=f[1],_=Object(a.useState)(null),w=Object(o.a)(_,2),y=w[0],N=w[1],C=Object(a.useState)([]),T=Object(o.a)(C,2),I=T[0],E=T[1],L=Object(u.f)(),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",type:""};k(e.text)||x(e),j(!d)},F=function(e,t){e&&"delete"===t&&(v(e),N(null)),e&&"edit"===t&&(N(e),v(null)),s(!r)};return Object(a.useEffect)((function(){K().then((function(e){E(e)})).catch((function(e){if("No Autorizado"===e.message)return t(!1),void L.push("/login");x({type:"danger",text:e.message}),j((function(e){return!e}))}))}),[L,t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Productos"}),Object(b.jsx)(B,{location:"home",productos:I,handleToggleShowModal:F,handleAddToCart:function(e){S(e.id).then((function(){M({text:"".concat(e.nombre," agregado al carrito"),type:"success"})})).catch((function(e){M({text:e.message,type:"warning"})}))}}),Object(b.jsx)(U,{show:d,handleToggleShowToast:M,toastInfo:p}),Object(b.jsxs)(W.a,{show:r,onHide:function(){return F()},children:[g&&Object(b.jsx)(V,{productToDelete:g,handleConfirmDelete:function(){g&&X(g.id).then((function(){F(),M({text:"Producto eliminado con \xe9xito",type:"success"});var e=I.filter((function(e){return e.id!==g.id}));E(e),setTimeout((function(){v(null)}),1e3)})).catch((function(e){M({type:"warning",text:e.message}),F(),setTimeout((function(){v(null)}),1e3)}))},handleToggleShowModal:F}),y&&Object(b.jsx)(ne,{productToEdit:y,handleConfirmEdit:function(e,t){var n=e.id,a=(e.timestamp,Object(q.a)(e,["id","timestamp"]));y&&Q(n,a).then((function(e){t();var n=I.map((function(e){return e.id})).indexOf(e.id),a=JSON.parse(JSON.stringify(I));a.splice(n,1,e),E(a),F(),M({text:"Producto editado con \xe9xito",type:"success"}),setTimeout((function(){N(null)}),1e3)})).catch((function(e){M({type:"warning",text:e.message}),F(),setTimeout((function(){N(null)}),1e3)}))},handleToggleShowModal:F})]})]})},ce=n(171),re="/api/auth",se=function(){var e=Object(_.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(re,"/signup"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),new Error(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(_.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(re,"/logout"));case 3:return t=e.sent,console.log(t.data.data),e.abrupt("return",t.data.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(_.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(re,"/userdata"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),le=function(e){var t=e.setLoggedIn,n=e.loggedIn,c=e.loggedInUser,r=e.setLoggedInUser,s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1];Object(a.useEffect)((function(){ie().then((function(e){e.error||(t(!0),r(e))}))}),[t,r]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Login de Usuario"}),l&&Object(b.jsx)(ce.a,{variant:"primary",children:Object(b.jsx)("span",{className:"me-3",children:l})}),n?Object(b.jsx)(ce.a,{variant:"success",children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("p",{children:"Bienvenido/a"}),Object(b.jsx)("img",{src:null===c||void 0===c?void 0:c.photo,alt:"Profile"}),Object(b.jsx)("p",{className:"mb-0",children:null===c||void 0===c?void 0:c.name}),Object(b.jsx)("p",{children:null===c||void 0===c?void 0:c.email}),Object(b.jsx)(E.a,{onClick:function(){oe().then((function(){t(!1),u("Hasta luego ".concat(null===c||void 0===c?void 0:c.name)),setTimeout((function(){u(""),r(null)}),2e3)}))},children:"Logout"})]})}):Object(b.jsx)(ce.a,{variant:"primary",children:Object(b.jsx)("div",{className:"my-5 text-center",children:Object(b.jsx)(E.a,{className:"mb-2",type:"submit",as:"a",href:"/api/auth/login",children:"Login con Facebook"})})})]})},ue=function(e){var t=e.onSubmit,n=e.btnText,c=Object(a.useState)({username:"",password:""}),r=Object(o.a)(c,2),s=r[0],i=r[1],l=s.username,u=s.password,d=function(e){i(Object(ee.a)(Object(ee.a)({},s),{},Object(Z.a)({},e.target.name,e.target.value)))},j=function(e){e.preventDefault(),t(s),i({username:"",password:""})};return Object(b.jsx)("div",{children:Object(b.jsxs)(te.a,{onSubmit:function(e){return j(e)},children:[Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(b.jsx)(te.a.Label,{children:"Ingrese su nombre"}),Object(b.jsx)(te.a.Control,{type:"text",value:l,name:"username",onChange:d})]}),Object(b.jsxs)(te.a.Group,{className:"mb-3",controlId:"password",children:[Object(b.jsx)(te.a.Label,{children:"Ingrese su contrase\xf1a"}),Object(b.jsx)(te.a.Control,{type:"password",value:u,name:"password",onChange:d})]}),Object(b.jsx)(E.a,{className:"mb-2",type:"submit",children:n})]})})},de=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(o.a)(r,2),i=s[0],u=s[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Registro de Usuario"}),n&&Object(b.jsx)(ce.a,{variant:"success",children:Object(b.jsx)("span",{className:"me-3",children:"\xa1Registro exitoso!"})}),i&&Object(b.jsx)(ce.a,{variant:"danger",children:Object(b.jsx)("span",{className:"me-3",children:"Hubo un error, por favor intente con otro nombre de usuario"})}),Object(b.jsx)(ue,{onSubmit:function(e){se(e).then((function(e){c(!0),setTimeout((function(){c(!1)}),2e3)})).catch((function(e){u(!0),setTimeout((function(){u(!1)}),2e3)}))},btnText:"Registrar"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"\xbfYa tienes cuenta?"}),Object(b.jsx)(l.b,{className:"btn btn-primary ms-2",to:"/login",children:"Login"})]})]})},je=n(102),be=n.n(je)()("/"),he=n(103),me=n.n(he),pe=n(39),xe=n.n(pe),Oe=function(e){var t=e.messages,n=e.setMessages,c=Object(a.useState)({email:"",text:""}),r=Object(o.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),d=u[0],j=u[1],h=Object(a.useState)({text:"",type:""}),m=Object(o.a)(h,2),x=m[0],O=m[1],f=s.email,g=s.text,v=Object(a.useRef)(null),_=Object(a.useRef)(null),w=function(e){j(!d),e&&O(e)};Object(a.useEffect)((function(){_.current&&!k(t)&&(_.current.scrollTop=_.current.scrollHeight)}),[t]);var y=function(e){i(Object(ee.a)(Object(ee.a)({},s),{},Object(Z.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{className:p()(xe.a["chat-channel"]),children:[Object(b.jsx)(U,{show:d,handleToggleShowToast:w,toastInfo:x}),Object(b.jsx)("div",{ref:_,className:p()(xe.a["chat-channel__messages"]),children:t.map((function(e){return Object(b.jsxs)("div",{className:p()(xe.a["chat-channel__message"]),children:[Object(b.jsxs)("p",{children:[Object(b.jsxs)("span",{className:p()(xe.a["chat-channel__message-email"]),children:[e.email,":"," "]}),Object(b.jsx)("span",{className:p()(xe.a["chat-channel__message-text"]),children:e.text})]}),Object(b.jsx)("small",{className:p()(xe.a["chat-channel__message-date"]),children:me()(e.date).format("DD/MM/YYYY hh:mm:ss")})]},e.id)}))}),Object(b.jsx)(te.a,{onSubmit:function(e){e.preventDefault(),k(f)||k(g)?w({type:"warning",text:"Ambos campos son obligatorios"}):(be.emit("new message",s),be.on("save message success",(function(e){i(Object(ee.a)(Object(ee.a)({},s),{},{text:""}))})),be.on("messages",(function(e){n(e),v.current&&(v.current.disabled=!0),_.current&&(_.current.scrollTop=_.current.scrollHeight)})),be.on("messages error",(function(e){w({type:"warning",text:e.message})})),be.on("save message error",(function(e){w({type:"warning",text:e.message})})))},children:Object(b.jsxs)("div",{className:p()(xe.a["chat-channel__form"]),children:[Object(b.jsx)(te.a.Control,{value:f,onChange:y,name:"email",type:"text",placeholder:"Email",ref:v}),Object(b.jsx)(te.a.Control,{value:g,onChange:y,name:"text",type:"text",placeholder:"Ingresa un mensaje"}),Object(b.jsx)(E.a,{className:"w-100",variant:"primary",type:"submit",children:"Enviar"})]})})]})},fe=function(e){var t=e.messages,n=e.setMessages;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Centro de Mensajes"}),Object(b.jsx)(Oe,{messages:t,setMessages:n})]})},ge=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(o.a)(r,2),d=s[0],j=s[1],h=Object(a.useState)([]),m=Object(o.a)(h,2),p=m[0],x=m[1];return Object(a.useEffect)((function(){be.on("messages",(function(e){x(e)}))}),[]),Object(b.jsxs)(l.a,{children:[Object(b.jsx)(f,{}),Object(b.jsx)(i.a,{children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/chat",children:Object(b.jsx)(fe,{messages:p,setMessages:x})}),Object(b.jsx)(u.a,{path:"/cart",children:Object(b.jsx)(Y,{setLoggedIn:c})}),Object(b.jsx)(u.a,{path:"/login",children:Object(b.jsx)(le,{setLoggedIn:c,loggedIn:n,loggedInUser:d,setLoggedInUser:j})}),Object(b.jsx)(u.a,{path:"/signup",children:Object(b.jsx)(de,{})}),Object(b.jsx)(u.a,{path:"/",children:Object(b.jsx)(ae,{setLoggedIn:c})})]})})]})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(166);s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(ge,{})}),document.getElementById("root")),ve()},39:function(e,t,n){e.exports={"chat-channel":"styles_chat-channel__3kc8J","chat-channel__messages":"styles_chat-channel__messages__Naigt","chat-channel__message":"styles_chat-channel__message__3S3Et","chat-channel__message-email":"styles_chat-channel__message-email__3KCAX","chat-channel__message-text":"styles_chat-channel__message-text__2sWmS","chat-channel__message-date":"styles_chat-channel__message-date__3Ldd4","chat-channel__form":"styles_chat-channel__form__128TP"}},60:function(e,t,n){e.exports={"product-carrito":"styles_product-carrito__w9h_z","product-carrito__img":"styles_product-carrito__img__3lOp8","product-carrito__price":"styles_product-carrito__price__3CqFm"}},71:function(e,t,n){e.exports={"product-btns":"styles_product-btns__KMiLf","product-add-edit":"styles_product-add-edit__3EXs6"}},72:function(e,t,n){e.exports={notification:"styles_notification__1W_Ae",danger:"styles_danger__1GI2w",warning:"styles_warning__1oMJi",success:"styles_success__I1hLo"}},99:function(e,t,n){e.exports={"cart-icon":"styles_cart-icon__Preeq"}}},[[167,1,2]]]);
//# sourceMappingURL=main.26e3df23.chunk.js.map