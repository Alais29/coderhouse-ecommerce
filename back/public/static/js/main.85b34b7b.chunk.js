(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{107:function(e,t,a){e.exports={"cart-icon":"styles_cart-icon__Preeq","icons-container":"styles_icons-container__3Oykg"}},120:function(e,t,a){e.exports={"product-btns":"styles_product-btns__KMiLf","product-add-edit":"styles_product-add-edit__3EXs6"}},121:function(e,t,a){e.exports={"user-data":"styles_user-data__SSNPU","user-data__info":"styles_user-data__info__BeS3l","user-data__btn-container":"styles_user-data__btn-container__2Ip1J"}},148:function(e,t,a){e.exports={"loading-screen":"styles_loading-screen__LPC8w"}},151:function(e,t,a){e.exports={"signup-form":"styles_signup-form__1eRgY"}},156:function(e,t,a){e.exports={"product-list":"styles_product-list__1ieW6"}},157:function(e,t,a){e.exports={"spinner-container":"styles_spinner-container__2thgc"}},158:function(e,t,a){e.exports={"product-image":"styles_product-image__1hiFx"}},159:function(e,t,a){e.exports={"filter-container":"styles_filter-container__3qhrs"}},161:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(31),s=a.n(c),o=a(5),i=a.n(o),l=a(12),d=a(249),u=a(29),j=a(24),b=a(18),p=a(67),h=a(162),m=a(248),x=a(16),O=a.n(x),f=a(148),g=a.n(f),v=a(0),_=function(e){var t=e.style,a=void 0===t?{}:t;return Object(v.jsx)("div",{className:O()(g.a["loading-screen"]),style:a,children:Object(v.jsx)(m.a,{animation:"grow",variant:"primary"})})},y=a(259),w=a(164),C=a(51),N=a(107),k=a.n(N),S=function(){return Object(v.jsxs)(y.a,{bg:"dark",variant:"dark",fixed:"top",expand:"sm",collapseOnSelect:!0,children:[Object(v.jsx)(y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(v.jsx)(y.a.Collapse,{id:"responsive-navbar-nav",children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(w.a,{className:"me-auto",children:[Object(v.jsx)(w.a.Link,{as:u.b,to:"/",href:"/",children:"Productos"}),Object(v.jsx)(w.a.Link,{as:u.b,href:"/ordenes",className:"nav-link",to:"/ordenes",children:"Ordenes"}),Object(v.jsx)(w.a.Link,{as:u.b,href:"/chat",className:"nav-link",to:"/chat",children:"Chat"}),Object(v.jsx)(u.b,{className:O()("nav-link","ms-sm-auto","d-none","d-sm-block",k.a["cart-icon"]),to:"/cart",children:Object(v.jsx)(C.a,{icon:"shopping-cart"})}),Object(v.jsx)(u.b,{className:"nav-link d-none d-sm-block",to:"/account",children:Object(v.jsx)(C.a,{icon:"user"})})]})})}),Object(v.jsx)("div",{className:O()(k.a["icons-container"]),children:Object(v.jsxs)(w.a,{className:O()("d-sm-none"),children:[Object(v.jsx)(u.b,{className:O()("nav-link","ms-sm-auto",k.a["cart-icon"]),to:"/cart",children:Object(v.jsx)(C.a,{icon:"shopping-cart"})}),Object(v.jsx)(u.b,{className:"nav-link",to:"/account",children:Object(v.jsx)(C.a,{icon:"user"})})]})})]})},E=a(17),P=a(2),I=a(15),L=a(258),F=a(250),T=a(84),M=function(){return Object(T.b)()},G=T.c,q=function(e){var t=e.onSubmit,a=Object(r.useState)({email:"",password:""}),n=Object(I.a)(a,2),c=n[0],s=n[1],o=G((function(e){return e.user})).status,i=c.email,l=c.password,d=function(e){s(Object(P.a)(Object(P.a)({},c),{},Object(E.a)({},e.target.name,e.target.value)))},u=function(e){e.preventDefault(),t(c)};return Object(v.jsx)("div",{children:Object(v.jsxs)(L.a,{onSubmit:function(e){return u(e)},children:[Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(v.jsx)(L.a.Label,{children:"Email"}),Object(v.jsx)(L.a.Control,{type:"text",value:i,name:"email",onChange:d})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"password",children:[Object(v.jsx)(L.a.Label,{children:"Contrase\xf1a"}),Object(v.jsx)(L.a.Control,{type:"password",value:l,name:"password",onChange:d})]}),Object(v.jsx)(F.a,{className:"mb-2",type:"submit",disabled:"loading"===o,children:"loading"===o?"Procesando...":"Login"})]})})},D=a(22),R=a(25),z=a.n(R),A="/api/auth",Y=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.post("".concat(A,"/login"),t);case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("".concat(A,"/logout"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),J="/api/usuarios",H=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.post("".concat(J,"/signup"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("".concat(J,"/loggedInUser/data"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),$=Object(D.b)("user/signup",function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K=Object(D.b)("user/login",function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:return a=e.sent,e.abrupt("return",a.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),X=Object(D.b)("user/logout",Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),W=Object(D.b)("user/data",Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),Q=Object(D.c)({name:"user",initialState:{data:null,isLoggedIn:!1,status:"idle",error:null},reducers:{setStatus:function(e,t){e.status=t.payload}},extraReducers:function(e){e.addCase(K.pending,(function(e,t){e.status="loading"})).addCase(K.fulfilled,(function(e,t){e.status="succeeded",e.data=t.payload,e.isLoggedIn=!0,e.error=null})).addCase(K.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(X.pending,(function(e,t){e.status="loading"})).addCase(X.fulfilled,(function(e,t){e.status="succeeded",e.isLoggedIn=!1,e.error=null,e.data=null})).addCase(X.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(W.pending,(function(e,t){e.status="loading"})).addCase(W.fulfilled,(function(e,t){e.data=t.payload,e.status="succeeded",e.isLoggedIn=!0})).addCase(W.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),V=(Q.actions.setStatus,Q.reducer),Z=function(){var e=M(),t=function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(K(a)).unwrap();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),b.b.error("Hubo un error, por favor verifique su usuario y/o contrase\xf1a");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Login de Usuario"}),Object(v.jsx)(q,{onSubmit:t}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{children:"\xbfNo tienes cuenta?"}),Object(v.jsx)(u.b,{className:"btn btn-primary ms-2",to:"/signup",children:"Reg\xedstrate"})]})]})},ee=a(251),te=a(150),ae=a(163),re=a(151),ne=a.n(re),ce=function(e){var t=e.location,a=G((function(e){return e.user})).data,n=M(),c=Object(j.g)(),s=Object(r.useState)({email:"",password:"",repeatPassword:"",nombre:"",calle:"",altura:"",codigoPostal:"",piso:"",depto:"",edad:"",admin:"false"}),o=Object(I.a)(s,2),d=o[0],u=o[1],p=Object(r.useState)(),h=Object(I.a)(p,2),m=h[0],x=h[1],f=d.email,g=d.password,_=d.repeatPassword,y=d.nombre,w=d.calle,C=d.altura,N=d.codigoPostal,k=d.piso,S=d.depto,T=d.edad,q=d.admin,D=Object(r.useRef)(null),R=function(e){u(Object(P.a)(Object(P.a)({},d),{},Object(E.a)({},e.target.name,e.target.value)))},z=function(){var e=Object(l.a)(i.a.mark((function e(a){var r,s,o,l,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=null,D.current&&(r=D.current.files),s=new FormData,Object.entries(d).forEach((function(e){s.append(e[0],e[1])})),s.append("foto",r?r[0]:""),s.append("telefono",m||""),e.prev=7,e.next=10,n($(s)).unwrap();case 10:if(u({email:"",password:"",repeatPassword:"",nombre:"",calle:"",altura:"",codigoPostal:"",piso:"",depto:"",edad:"",admin:"false"}),x(void 0),D.current&&(D.current.value=""),b.b.success("\xa1Registro Exitoso!"),"signupPage"!==t){e.next=21;break}return o={},s.forEach((function(e,t){return o[t]=e})),l={email:o.email,password:o.password},e.next=20,n(K(l)).unwrap();case 20:c.push("/account");case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),j="Missing credentials"===e.t0.message?"Todos los campos son obligatorios":e.t0.message,b.b.error(j);case 27:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:O()(ne.a["signup-form"]),children:Object(v.jsxs)(L.a,{onSubmit:function(e){return z(e)},children:[Object(v.jsxs)(ee.a,{children:[Object(v.jsxs)(te.a,{sm:"12",md:"6",children:[Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"nombreSignup",children:[Object(v.jsx)(L.a.Label,{children:"Nombre Completo"}),Object(v.jsx)(L.a.Control,{type:"nombre",value:y,name:"nombre",onChange:R})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"edad",children:[Object(v.jsx)(L.a.Label,{children:"Edad"}),Object(v.jsx)(L.a.Control,{type:"edad",value:T,name:"edad",onChange:R})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"email",children:[Object(v.jsx)(L.a.Label,{children:"Email"}),Object(v.jsx)(L.a.Control,{type:"text",value:f,name:"email",onChange:R})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"password",children:[Object(v.jsx)(L.a.Label,{children:"Contrase\xf1a"}),Object(v.jsx)(L.a.Control,{type:"password",value:g,name:"password",onChange:R})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"repeatPassword",children:[Object(v.jsx)(L.a.Label,{children:"Repite tu contrase\xf1a"}),Object(v.jsx)(L.a.Control,{type:"password",value:_,name:"repeatPassword",onChange:R})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"telefono",children:[Object(v.jsx)(L.a.Label,{children:"Tel\xe9fono"}),Object(v.jsx)(ae.a,{placeholder:"Enter phone number",value:m,name:"telefono",onChange:x})]})]}),Object(v.jsxs)(te.a,{sm:"12",md:"6",children:[Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"calle",children:[Object(v.jsx)(L.a.Label,{children:"Calle"}),Object(v.jsx)(L.a.Control,{type:"calle",value:w,name:"calle",onChange:R})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"altura",children:[Object(v.jsx)(L.a.Label,{children:"Altura"}),Object(v.jsx)(L.a.Control,{type:"altura",value:C,name:"altura",onChange:R})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"codigoPostal",children:[Object(v.jsx)(L.a.Label,{children:"C\xf3digo Postal"}),Object(v.jsx)(L.a.Control,{type:"codigoPostal",value:N,name:"codigoPostal",onChange:R})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"piso",children:[Object(v.jsx)(L.a.Label,{children:"Piso (opcional)"}),Object(v.jsx)(L.a.Control,{type:"piso",value:k,name:"piso",onChange:R})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"depto",children:[Object(v.jsx)(L.a.Label,{children:"Departamento (opcional)"}),Object(v.jsx)(L.a.Control,{type:"depto",value:S,name:"depto",onChange:R})]}),Object(v.jsxs)(L.a.Group,{controlId:"fotoSignup",className:"mb-3",children:[Object(v.jsx)(L.a.Label,{children:"Foto"}),Object(v.jsx)(L.a.Control,{type:"file",ref:D,name:"foto"})]})]})]}),a&&a.admin&&Object(v.jsxs)(L.a.Group,{controlId:"foto",className:"mb-3",children:[Object(v.jsx)("p",{children:"\xbfAdministrador?"}),Object(v.jsxs)("div",{className:"mb-3",children:[Object(v.jsx)(L.a.Check,{inline:!0,label:"Si",name:"admin",type:"radio",id:"inline-radio-1",value:"true",onChange:R,checked:"true"===q}),Object(v.jsx)(L.a.Check,{inline:!0,label:"No",name:"admin",type:"radio",id:"inline-radio-2",value:"false",onChange:R,checked:"false"===q})]},"inline-radio")]}),Object(v.jsx)(F.a,{className:"mb-2",type:"submit",children:"Registro"})]})})},se=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Registro de Usuario"}),Object(v.jsx)(ce,{location:"signupPage"}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"mb-3",children:[Object(v.jsx)("span",{children:"\xbfYa tienes cuenta?"}),Object(v.jsx)(u.b,{className:"btn btn-primary ms-2",to:"/login",children:"Login"})]})]})},oe=a(52),ie="/api/carrito",le=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get("".concat(ie));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.post("".concat(ie,"/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.put("".concat(ie),t);case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.delete("".concat(ie,"/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),be=Object(D.b)("cart/fetchProductsCart",Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),pe=Object(D.b)("cart/addProductToCart",function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),he=Object(D.b)("cart/editProductInCart",function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),me=Object(D.b)("cart/removeProductCart",function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),xe=Object(D.c)({name:"cart",initialState:{data:[],status:"idle",error:null},reducers:{emptyCart:function(e){e.data=[]}},extraReducers:function(e){e.addCase(be.pending,(function(e,t){e.status="loading"})).addCase(be.fulfilled,(function(e,t){e.status="succeeded",e.data=e.data.concat(t.payload),e.error=null})).addCase(be.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(me.fulfilled,(function(e,t){e.data=t.payload})).addCase(pe.fulfilled,(function(e,t){if(0!==e.data.length||"succeeded"===e.status){var a=e.data.findIndex((function(e){return e.producto.id===t.payload.producto.id}));-1===a?e.data=e.data.concat(t.payload):e.data[a].quantity=t.payload.quantity}})).addCase(he.fulfilled,(function(e,t){e.data=t.payload}))}}),Oe=xe.actions.emptyCart,fe=xe.reducer,ge="api/ordenes",ve=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get(ge);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.post(ge);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ye=Object(D.b)("order/fetchOrders",Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),we=Object(D.b)("order/createOrder",Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),Ce=Object(D.c)({name:"orders",initialState:{data:[],lastOrder:null,status:"idle",error:null},reducers:{},extraReducers:function(e){e.addCase(ye.pending,(function(e){e.status="loading"})).addCase(ye.fulfilled,(function(e,t){e.status="succeeded",e.data=t.payload,e.error=null;var a=t.payload.filter((function(e){return"generada"===e.estado})),r=a[a.length-1];r&&(e.lastOrder=r)})).addCase(ye.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(we.fulfilled,(function(e,t){e.data.push(t.payload),e.lastOrder=t.payload}))}}).reducer;function Ne(e){if(e){switch(typeof e){case"string":return""===e||"null"===e||"undefined"===e;case"number":return!1;case"object":return"{}"===JSON.stringify(e)||"[]"===JSON.stringify(e)}return!0}return!0}var ke=a(260),Se=a(63),Ee=a(103),Pe=new(a(257).a)({cloud:{cloudName:"alais29"}}),Ie=a(120),Le=a.n(Ie),Fe=function(e){var t=e.product,a=e.handleToggleShowModal,r=e.handleAddToCart,n=G((function(e){return e.user})).data,c=Pe.image("".concat(t.fotoId));return c.resize(Object(Ee.a)().width(300).height(300)),Object(v.jsxs)(ke.a,{children:[Object(v.jsx)(Se.AdvancedImage,{cldImg:c,plugins:[Object(Se.lazyload)(),Object(Se.placeholder)("blur")]}),Object(v.jsxs)(ke.a.Body,{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(ke.a.Title,{children:t.nombre}),Object(v.jsxs)(ke.a.Subtitle,{className:"mb-2 text-muted",children:["$",t.precio]}),Object(v.jsx)(ke.a.Text,{children:t.descripcion})]}),Object(v.jsx)("div",{className:"text-end mt-2",children:Object(v.jsx)(ke.a.Text,{children:Object(v.jsx)("small",{children:t.categoria})})}),Object(v.jsxs)("div",{className:O()("d-flex","flex-column",Le.a["product-btns"]),children:[n&&n.admin&&Object(v.jsxs)("div",{className:O()("d-flex","mt-2",Le.a["product-add-edit"]),children:[Object(v.jsx)(F.a,{variant:"danger",onClick:function(){return a(t,"delete")},children:"Eliminar"}),Object(v.jsx)(F.a,{variant:"info",onClick:function(){return a(t,"edit")},children:"Editar"})]}),Object(v.jsx)(F.a,{variant:"primary",onClick:function(){return r(t)},children:"Agregar al carrito"})]})]})]})},Te=a(54),Me=a.n(Te),Ge=function(e){var t=e.product,a=e.handleRemove,n=Object(r.useState)(!0),c=Object(I.a)(n,2),s=c[0],o=c[1],d=Object(r.useState)(t.quantity),u=Object(I.a)(d,2),j=u[0],p=u[1],h=Object(r.useState)("idle"),m=Object(I.a)(h,2),x=m[0],f=m[1],g=t.producto,y=M(),w=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f("loading"),Object(oe.a)(document.body),e.next=5,y(he({productId:g.id,amount:j})).unwrap();case 5:o(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.b.error(e.t0.message);case 11:return e.prev=11,f("idle"),Object(oe.b)(document.body),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,8,11,15]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:["loading"===x&&Object(v.jsx)(_,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2e3}}),Object(v.jsxs)("div",{className:O()("border","rounded","d-flex",Me.a["product-carrito"]),children:[Object(v.jsx)("img",{src:g.foto,alt:g.nombre,className:O()(Me.a["product-carrito__img"])}),Object(v.jsxs)("div",{className:O()(Me.a["product-carrito__info-container"]),children:[Object(v.jsxs)("div",{className:O()(Me.a["product-carrito__info"]),children:[Object(v.jsx)("h3",{children:g.nombre}),Object(v.jsx)("p",{children:g.descripcion}),Object(v.jsxs)("div",{className:O()(Me.a["product-carrito__qty-price"]),children:[Object(v.jsx)("div",{className:O()(Me.a["product-carrito__qty-form"]),children:Object(v.jsx)(L.a,{children:Object(v.jsxs)(L.a.Group,{className:O()("mb-3","d-flex","align-items-center","gap-2"),controlId:"nombre",children:[Object(v.jsx)(L.a.Label,{children:"Cantidad"}),Object(v.jsx)(L.a.Control,{type:"text",value:j,name:"email",onChange:function(e){p(e.target.value)},disabled:s})]})})}),Object(v.jsxs)("p",{className:O()(Me.a["product-carrito__price"]),children:["$",Number(g.precio)*t.quantity]})]})]}),Object(v.jsxs)("div",{className:O()(Me.a["product-carrito__btns"]),children:[Object(v.jsx)(F.a,{variant:"danger",onClick:function(){return a(g.id)},children:"Eliminar"}),Object(v.jsx)(F.a,{variant:s?"primary":"success",onClick:s?function(){o(!1)}:function(){return w()},children:s?"Editar":"Guardar"})]})]})]})]})},qe=a(156),De=a.n(qe),Re=function(e){var t=e.handleToggleShowModal,a=e.productos,r=e.location,n=e.handleRemove,c=e.handleAddToCart;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:O()(De.a["product-list"],"my-4","d-flex","flex-wrap","justify-content-center",{"flex-column":"cart"===r}),children:[!Ne(a)&&"home"===r&&t&&c&&a.map((function(e){return Object(v.jsx)(Fe,{product:e,handleToggleShowModal:t,handleAddToCart:c},e.id)})),!Ne(a)&&"cart"===r&&n&&a.map((function(e){return Object(v.jsx)(Ge,{product:e,handleRemove:n},e.producto.id)}))]})})},ze=a(157),Ae=a.n(ze),Ye=function(e){var t=e.style;return Object(v.jsx)("div",{className:O()(Ae.a["spinner-container"]),style:t,children:Object(v.jsx)(m.a,{animation:"grow",variant:"primary"})})},Ue=function(){var e=Object(r.useState)(0),t=Object(I.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)("idle"),s=Object(I.a)(c,2),o=s[0],d=s[1],p=Object(r.useState)("idle"),h=Object(I.a)(p,2),m=h[0],x=h[1],O=G((function(e){return e.cart})),f=O.data,g=O.status,y=O.error,w=M(),C=Object(j.g)(),N=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d("loading"),Object(oe.a)(document.body),e.next=5,w(me(t)).unwrap();case 5:b.b.success("Producto eliminado del carrito"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.b.error(e.t0.message);case 11:return e.prev=11,d("idle"),Object(oe.b)(document.body),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,8,11,15]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x("loading"),e.next=4,w(we()).unwrap();case 4:w(Oe()),b.b.success("Orden enviada con \xe9xito!"),C.push("/successful-order"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),b.b.error("Hubo un error enviando la orden, por favor intente de nuevo.");case 12:return e.prev=12,x("idle"),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){"idle"===g&&w(be()),"failed"===g&&b.b.error(y||"Ocurri\xf3 un error")}),[w,g,y]),Object(r.useEffect)((function(){var e=f.reduce((function(e,t){return e+Number(t.producto.precio)*t.quantity}),0);n(e)}),[f]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"text-center mt-5 pt-3 mb-",children:"Carrito"}),Object(v.jsx)(Re,{productos:f,location:"cart",handleRemove:N}),Ne(f)?"loading"===g?Object(v.jsx)(Ye,{}):Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsx)("h2",{children:"El carrito est\xe1 vac\xedo"}),Object(v.jsx)("p",{className:"display-6",children:"Agrega algunos productos"}),Object(v.jsx)(u.b,{to:"/productos",className:"btn btn-primary",children:"Ir a Productos"})]}):Object(v.jsxs)("div",{className:"d-flex justify-content-end gap-3 align-items-center",children:[Object(v.jsxs)("div",{className:"border rounded p-3",children:[Object(v.jsx)("span",{className:"fw-bold",children:"Total:"})," $",a.toFixed(2)]}),Object(v.jsx)(F.a,{variant:"primary",size:"lg",onClick:k,children:"Enviar orden"})]}),("loading"===o||"loading"===m)&&Object(v.jsx)(_,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2e3}})]})},Je=a(256),He="/api/productos",Be=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="",t?(a="?",(r=Object.entries(t)).forEach((function(e,t){a+="".concat(e[0],"=").concat(e[1]).concat(t!==r.length-1?"&":"")}))):a="",e.next=5,z.a.get("".concat(He).concat(a));case 5:return n=e.sent,e.abrupt("return",n.data.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.post("".concat(He),t);case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.delete("".concat(He,"/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.put("".concat(He,"/").concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),We=Object(D.b)("products/fetchProducts",function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Qe=Object(D.b)("products/addNewProduct",function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ve=Object(D.b)("products/editProduct",function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,r=t.product,e.next=3,Xe(a,r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ze=Object(D.b)("products/removeProduct",function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),et=Object(D.c)({name:"products",initialState:{data:[],status:"idle",error:null},reducers:{removeProduct:function(e,t){e.data=e.data.filter((function(e){return e.id!==t.payload}))}},extraReducers:function(e){e.addCase(We.pending,(function(e,t){e.status="loading"})).addCase(We.fulfilled,(function(e,t){e.status="succeeded",e.data=t.payload})).addCase(We.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(Qe.fulfilled,(function(e,t){e.data.push(t.payload)})).addCase(Ve.fulfilled,(function(e,t){var a=e.data.map((function(e){return e.id})).indexOf(t.payload.id);e.data.splice(a,1,t.payload)}))}}),tt=et.actions.removeProduct,at=et.reducer,rt=function(e){var t=e.handleToggleShowModal,a=e.productToDelete,r=e.handleConfirmDelete,n=e.deleteRequestStatus;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Je.a.Header,{children:Object(v.jsx)(Je.a.Title,{children:"\xbfEstas seguro?"})}),Object(v.jsxs)(Je.a.Body,{children:["\xbfSeguro que quieres eliminar ",null===a||void 0===a?void 0:a.nombre,"?"]}),Object(v.jsxs)(Je.a.Footer,{children:[Object(v.jsx)(F.a,{variant:"secondary",onClick:function(){return t()},disabled:"loading"===n,children:"Cancelar"}),Object(v.jsxs)(F.a,{variant:"danger",onClick:r,disabled:"loading"===n,children:["Eliminar"," ","loading"===n&&Object(v.jsx)(m.a,{animation:"border",size:"sm",variant:"light"})]})]})]})},nt=a(97),ct=a(255),st=a(252),ot=a(158),it=a.n(ot),lt=function(e){var t=e.handleToggleShowModal,a=e.productToEdit,n=e.setProductToEdit,c=Object(r.useState)("idle"),s=Object(I.a)(c,2),o=s[0],d=s[1],u=Object(r.useState)({codigo:a.codigo,nombre:a.nombre,categoria:a.categoria,descripcion:a.descripcion,precio:a.precio,stock:a.stock,foto:a.foto}),j=Object(I.a)(u,2),p=j[0],h=j[1],x=p.codigo,f=p.nombre,g=p.descripcion,_=p.precio,y=p.categoria,w=p.stock,N=p.foto,k=Object(r.useRef)(null),S=M(),T=function(e){"foto"===e.target.name&&k.current&&k.current.files?h(Object(P.a)(Object(P.a)({},p),{},{foto:URL.createObjectURL(k.current.files[0])})):h(Object(P.a)(Object(P.a)({},p),{},Object(E.a)({},e.target.name,e.target.value)))},G=function(){var e=Object(l.a)(i.a.mark((function e(){var r,c,s,o,l,u,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(P.a)(Object(P.a)({},a),p),c=null,k.current&&(c=k.current.files),s=new FormData,Object.entries(r).forEach((function(e){s.append(e[0],e[1])})),s.set("foto",c&&c[0]?c[0]:a.foto),o=[],l=Object(nt.a)(s.values());try{for(l.s();!(u=l.n()).done;)j=u.value,console.log(j),o.push(j)}catch(i){l.e(i)}finally{l.f()}if(!o.every((function(e){return-1!==Object.values(a).map((function(e){return String(e)})).indexOf(e)}))){e.next=15;break}b.b.info("No se realiz\xf3 ning\xfan cambio"),t(),e.next=31;break;case 15:return e.prev=15,d("loading"),e.next=19,S(Ve({id:a.id,product:s})).unwrap();case 19:h({codigo:"",nombre:"",categoria:"",descripcion:"",precio:"",stock:"",foto:""}),t(),b.b.success("".concat(a.nombre," editado con \xe9xito")),setTimeout((function(){n(null)}),1e3),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),b.b.error(e.t0.message);case 28:return e.prev=28,d("idle"),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[15,25,28,31]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Je.a.Header,{children:Object(v.jsx)(Je.a.Title,{children:"Editar producto"})}),Object(v.jsx)(Je.a.Body,{children:Object(v.jsxs)(L.a,{children:[Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(v.jsxs)(L.a.Label,{children:["C\xf3digo",Object(v.jsx)(ct.a,{placement:"right",overlay:Object(v.jsx)(st.a,{id:"tooltip-right-codigo",children:"Formato: 'ECOMM-xxxx-xxxx' donde cada 'x' representa un n\xfamero"}),children:Object(v.jsx)("span",{className:"ms-2",children:Object(v.jsx)(C.a,{icon:"info-circle",size:"xs",color:"gray"})})},"right")]}),Object(v.jsx)(L.a.Control,{type:"text",value:x,name:"codigo",onChange:T})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(v.jsx)(L.a.Label,{children:"Nombre"}),Object(v.jsx)(L.a.Control,{type:"text",value:f,name:"nombre",onChange:T})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(v.jsx)(L.a.Label,{children:"Descripci\xf3n"}),Object(v.jsx)(L.a.Control,{type:"textarea",value:g,name:"descripcion",onChange:T})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"precio",children:[Object(v.jsx)(L.a.Label,{children:"Precio"}),Object(v.jsx)(L.a.Control,{type:"text",value:_,name:"precio",onChange:T})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3 mt-3",controlId:"categoria",children:[Object(v.jsx)(L.a.Label,{children:"Categoria"}),Object(v.jsx)(L.a.Control,{type:"text",value:y,name:"categoria",onChange:T})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"stock",children:[Object(v.jsx)(L.a.Label,{children:"Stock"}),Object(v.jsx)(L.a.Control,{type:"text",value:w,name:"stock",onChange:T})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3 d-flex gap-2 align-items-center justify-content-center flex-column",controlId:"foto",children:[Object(v.jsx)("img",{src:N,alt:"foto-".concat(f),className:O()(it.a["product-image"])}),Object(v.jsx)(L.a.Control,{type:"file",ref:k,name:"foto",onChange:T,className:"d-none"}),Object(v.jsx)(F.a,{variant:"primary",onClick:function(){k.current&&k.current.click()},children:"Cambiar Imagen"})]})]})}),Object(v.jsxs)(Je.a.Footer,{children:[Object(v.jsx)(F.a,{variant:"secondary",onClick:function(){return t()},disabled:"loading"===o,children:"Cancelar"}),Object(v.jsxs)(F.a,{variant:"primary",onClick:G,disabled:"loading"===o,children:["Editar"," ","loading"===o&&Object(v.jsx)(m.a,{animation:"border",size:"sm",variant:"light"})]})]})]})},dt=a(159),ut=a.n(dt),jt=function(){var e=Object(r.useState)({nombre:"",codigo:"",minPrice:"",maxPrice:"",minStock:"",maxStock:""}),t=Object(I.a)(e,2),a=t[0],n=t[1],c=M(),s=a.nombre,o=a.codigo,i=a.minPrice,l=a.maxPrice,d=a.minStock,u=a.maxStock,j=function(e){n(Object(P.a)(Object(P.a)({},a),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(v.jsxs)("div",{className:O()(ut.a["filter-container"]),children:[Object(v.jsx)("h2",{className:"text-center mt-4",children:"Filtra tu b\xfasqueda"}),Object(v.jsxs)(L.a,{onSubmit:function(e){e.preventDefault();var t,r=(t=a,JSON.parse(JSON.stringify(t))),n=Object.entries(r).filter((function(e){return""!==e[1]}));c(We(Object.fromEntries(n)))},children:[Object(v.jsxs)(ee.a,{children:[Object(v.jsx)(te.a,{xs:"12",sm:"6",children:Object(v.jsxs)(L.a.Floating,{children:[Object(v.jsx)(L.a.Control,{id:"nombre",type:"text",value:s,onChange:j,name:"nombre",placeholder:"Nombre"}),Object(v.jsx)("label",{htmlFor:"nombre",children:"Nombre"})]})}),Object(v.jsx)(te.a,{xs:"12",sm:"6",children:Object(v.jsxs)(L.a.Floating,{children:[Object(v.jsx)(L.a.Control,{id:"codigo",type:"text",value:o,onChange:j,name:"codigo",placeholder:"C\xf3digo"}),Object(v.jsx)("label",{htmlFor:"codigo",children:"C\xf3digo"})]})})]}),Object(v.jsxs)(ee.a,{children:[Object(v.jsx)(te.a,{xs:"12",sm:"6",md:"3",children:Object(v.jsxs)(L.a.Floating,{children:[Object(v.jsx)(L.a.Control,{id:"minPrice",type:"text",value:i,onChange:j,name:"minPrice",placeholder:"Precio M\xednimo"}),Object(v.jsx)("label",{htmlFor:"minPrice",children:"Precio M\xednimo"})]})}),Object(v.jsx)(te.a,{xs:"12",sm:"6",md:"3",children:Object(v.jsxs)(L.a.Floating,{children:[Object(v.jsx)(L.a.Control,{id:"maxPrice",type:"text",value:l,onChange:j,name:"maxPrice",placeholder:"Precio M\xe1ximo"}),Object(v.jsx)("label",{htmlFor:"maxPrice",children:"Precio M\xe1ximo"})]})}),Object(v.jsx)(te.a,{xs:"12",sm:"6",md:"3",children:Object(v.jsxs)(L.a.Floating,{children:[Object(v.jsx)(L.a.Control,{id:"minStock",type:"text",value:d,onChange:j,name:"minStock",placeholder:"Stock M\xednimo"}),Object(v.jsx)("label",{htmlFor:"minStock",children:"Stock M\xednimo"})]})}),Object(v.jsx)(te.a,{xs:"12",sm:"6",md:"3",children:Object(v.jsxs)(L.a.Floating,{children:[Object(v.jsx)(L.a.Control,{id:"maxStock",type:"text",value:u,onChange:j,name:"maxStock",placeholder:"Stock M\xe1ximo"}),Object(v.jsx)("label",{htmlFor:"maxStock",children:"Stock M\xe1ximo"})]})})]}),Object(v.jsx)(F.a,{type:"submit",children:"Buscar"})]})]})},bt=function(){var e=Object(r.useState)(!1),t=Object(I.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null),s=Object(I.a)(c,2),o=s[0],d=s[1],u=Object(r.useState)(null),j=Object(I.a)(u,2),p=j[0],h=j[1],m=Object(r.useState)("idle"),x=Object(I.a)(m,2),O=x[0],f=x[1],g=Object(r.useState)("idle"),y=Object(I.a)(g,2),w=y[0],C=y[1],N=G((function(e){return e.products})),k=N.data,S=N.status,E=N.error,P=M(),L=function(e,t){e&&"delete"===t&&(d(e),h(null)),e&&"edit"===t&&(h(e),d(null)),n((function(e){return!e}))},F=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=17;break}return e.prev=1,f("loading"),e.next=5,P(Ze(o.id)).unwrap();case 5:P(tt(o.id)),L(),b.b.success("".concat(o.nombre," eliminado con \xe9xito")),setTimeout((function(){d(null)}),1e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),b.b.error(e.t0.message);case 14:return e.prev=14,f("idle"),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C("loading"),Object(oe.a)(document.body),e.next=5,P(pe(t.id)).unwrap();case 5:b.b.success("".concat(t.nombre," agregado al carrito")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.b.error(e.t0.message);case 11:return e.prev=11,C("idle"),Object(oe.b)(document.body),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[0,8,11,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){"idle"===S?P(We()):"failed"===S&&b.b.error(E)}),[S,P,E]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Productos"}),Ne(k)?"loading"===S?Object(v.jsx)(Ye,{}):Object(v.jsx)("div",{className:"text-center mt-4",children:Object(v.jsx)("h2",{children:"No se encontraron productos, intenta con otros par\xe1metros de b\xfasqueda"})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(jt,{}),Object(v.jsx)(Re,{location:"home",productos:k,handleToggleShowModal:L,handleAddToCart:T})]}),Object(v.jsxs)(Je.a,{show:a,onHide:function(){return L()},children:[o&&Object(v.jsx)(rt,{productToDelete:o,handleConfirmDelete:F,handleToggleShowModal:L,deleteRequestStatus:O}),p&&Object(v.jsx)(lt,{setProductToEdit:h,productToEdit:p,handleToggleShowModal:L})]}),"loading"===w&&Object(v.jsx)(_,{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2e3}})]})},pt=Object(D.c)({name:"messages",initialState:{data:[],status:"idle"},reducers:{setMessages:function(e,t){e.data=t.payload,e.status="succeeded"},addMessage:function(e,t){e.data.push(t.payload)}}}),ht=pt.actions,mt=ht.setMessages,xt=ht.addMessage,Ot=pt.reducer,ft=a(121),gt=a.n(ft),vt=function(e){var t=e.data,a=e.dashboard,r=e.handleLogout,n=e.status,c=Pe.image("".concat(t.fotoId));return c.resize(Object(Ee.a)().width(200).height(200)),Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:O()(gt.a["user-data"]),children:[Object(v.jsx)(Se.AdvancedImage,{cldImg:c,plugins:[Object(Se.lazyload)(),Object(Se.placeholder)("blur")]}),Object(v.jsxs)("div",{className:O()(gt.a["user-data__info"]),children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"Email:"})," ",null===t||void 0===t?void 0:t.email]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"Direccion:"})," ",null===t||void 0===t?void 0:t.calle," ",null===t||void 0===t?void 0:t.altura,(null===t||void 0===t?void 0:t.piso)?", Piso ".concat(null===t||void 0===t?void 0:t.piso):"",(null===t||void 0===t?void 0:t.depto)?", Depto ".concat(null===t||void 0===t?void 0:t.depto):""]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"C\xf3digo Postal:"})," ",null===t||void 0===t?void 0:t.codigoPostal]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"Edad:"})," ",null===t||void 0===t?void 0:t.edad]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"Tel\xe9fono:"})," ",null===t||void 0===t?void 0:t.telefono]}),a&&Object(v.jsx)(F.a,{onClick:"loading"===n?void 0:r,disabled:"loading"===n,children:"loading"===n?"Procesando...":"Logout"})]})]})})},_t=function(){var e=Object(r.useState)("idle"),t=Object(I.a)(e,2),a=t[0],n=t[1],c=M(),s=Object(r.useState)({codigo:"",nombre:"",descripcion:"",precio:"",categoria:"",stock:""}),o=Object(I.a)(s,2),d=o[0],u=o[1],j=d.codigo,p=d.nombre,h=d.descripcion,x=d.precio,O=d.categoria,f=d.stock,g=Object(r.useRef)(null),_=function(e){u(Object(P.a)(Object(P.a)({},d),{},Object(E.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,g.current&&(t=g.current.files),a=new FormData,Object.entries(d).forEach((function(e){a.append(e[0],e[1])})),a.append("foto",t?t[0]:""),e.prev=5,n("loading"),e.next=9,c(Qe(a)).unwrap();case 9:u({codigo:"",nombre:"",descripcion:"",precio:"",categoria:"",stock:""}),g.current&&(g.current.value=""),b.b.success("El producto fue agregado con \xe9xito"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),b.b.error(e.t0.message);case 17:return e.prev=17,n("idle"),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(L.a,{children:[Object(v.jsxs)(ee.a,{children:[Object(v.jsxs)(te.a,{sm:"12",md:"6",children:[Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(v.jsxs)(L.a.Label,{children:["C\xf3digo",Object(v.jsx)(ct.a,{placement:"right",overlay:Object(v.jsx)(st.a,{id:"tooltip-right",children:"Formato: 'ECOMM-xxxx-xxxx' donde cada 'x' representa un n\xfamero"}),children:Object(v.jsx)("span",{className:"ms-2",children:Object(v.jsx)(C.a,{icon:"info-circle",size:"xs",color:"gray"})})},"right")]}),Object(v.jsx)(L.a.Control,{type:"text",value:j,name:"codigo",onChange:_})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"nombreProducto",children:[Object(v.jsx)(L.a.Label,{children:"Nombre"}),Object(v.jsx)(L.a.Control,{type:"text",value:p,name:"nombre",onChange:_})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(v.jsx)(L.a.Label,{children:"Descripci\xf3n"}),Object(v.jsx)(L.a.Control,{type:"textarea",value:h,name:"descripcion",onChange:_})]})]}),Object(v.jsxs)(te.a,{sm:"12",md:"6",children:[Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"precio",children:[Object(v.jsx)(L.a.Label,{children:"Precio"}),Object(v.jsx)(L.a.Control,{type:"text",value:x,name:"precio",onChange:_})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3 mt-3",controlId:"categoria",children:[Object(v.jsx)(L.a.Label,{children:"Categoria"}),Object(v.jsx)(L.a.Control,{type:"text",value:O,name:"categoria",onChange:_})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"stock",children:[Object(v.jsx)(L.a.Label,{children:"Stock"}),Object(v.jsx)(L.a.Control,{type:"text",value:f,name:"stock",onChange:_})]})]})]}),Object(v.jsxs)(L.a.Group,{className:"mb-3",controlId:"fotoProduct",children:[Object(v.jsx)(L.a.Label,{children:"Imagen del producto"}),Object(v.jsx)(L.a.Control,{type:"file",ref:g,name:"foto"})]}),Object(v.jsxs)(F.a,{className:"mb-2",onClick:y,disabled:"loading"===a,children:["Guardar"," ","loading"===a&&Object(v.jsx)(m.a,{animation:"border",size:"sm",variant:"light"})]})]})})},yt=a(261),wt=a(253),Ct=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{className:"text-center mt-5",children:"Dashboard"}),Object(v.jsxs)(yt.a,{defaultActiveKey:"productos",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(v.jsx)(wt.a,{eventKey:"productos",title:"Agregar producto",children:Object(v.jsx)(_t,{})}),Object(v.jsx)(wt.a,{eventKey:"usuarios",title:"Agregar usuario",children:Object(v.jsx)(ce,{location:"dashboard"})})]})]})},Nt=function(){var e=G((function(e){return e.user})),t=e.data,a=e.status,r=M(),n=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(X()).unwrap();case 3:r(Oe()),r(mt([])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b.b.error("Hubo un error, por favor intente de nuevo.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"mb-3",children:[Object(v.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Mi cuenta"}),null===t?"loading"===a?Object(v.jsx)(Ye,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"mt-5 pt-3 mb-3",children:"Ha ocurrido un error, intenta loggearte nuevamente"}),Object(v.jsx)(F.a,{onClick:n,children:"Logout"})]}):Object(v.jsx)(vt,{dashboard:!0,data:t,status:a,handleLogout:n}),null!==t&&t.admin&&Object(v.jsx)(Ct,{})]})},kt=a(102),St=a.n(kt),Et=a(160),Pt=a.n(Et)()("/"),It=a(40),Lt=a.n(It),Ft=function(){var e,t=Object(r.useState)(!1),a=Object(I.a)(t,2),n=a[0],c=a[1],s=G((function(e){return e.user})).data,o=G((function(e){return e.messages})),i=o.data,l=o.status,d=M(),u=Object(r.useState)({email:s?s.email:"",text:""}),j=Object(I.a)(u,2),p=j[0],h=j[1],x=p.email,f=p.text,g=Object(r.useRef)(null),_=Object(r.useRef)(null);Object(r.useEffect)((function(){s&&"idle"===l&&(Pt.emit("get messages",s.email),Pt.on("messages",(function(e){d(mt(e))})),Pt.on("messages error",(function(e){b.b.warning(e.message)})))}),[s,d,l]),Object(r.useEffect)((function(){_.current&&!Ne(i)&&(_.current.scrollTop=_.current.scrollHeight)}),[i]);var y=function(e){h(Object(P.a)(Object(P.a)({},p),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(v.jsxs)("div",{className:O()(Lt.a["chat-channel"]),children:[Object(v.jsxs)("div",{ref:_,className:O()(Lt.a["chat-channel__messages"],(e={},Object(E.a)(e,Lt.a["chat-channel__messages--loading"],"idle"===l),Object(E.a)(e,Lt.a["chat-channel__messages--no-messages"],"succeeded"===l&&0===i.length),e)),children:["idle"===l&&Object(v.jsx)(m.a,{animation:"border",role:"status",variant:"primary",children:Object(v.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),"succeeded"===l&&0===i.length?Object(v.jsx)("h3",{className:"text-center",children:"No tienes mensajes"}):i.map((function(e){return Object(v.jsxs)("div",{className:O()(Lt.a["chat-channel__message"],Object(E.a)({},Lt.a["chat-channel__message--bot"],"sistema"===e.type)),children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{className:O()(Lt.a["chat-channel__message-email"],Object(E.a)({},Lt.a["chat-channel__message-email--bot"],"sistema"===e.type)),children:"sistema"===e.type?"Chatbot":e.user.email}),Object(v.jsx)("span",{className:O()(Lt.a["chat-channel__message-text"]),children:"sistema"===e.type?e.text.split("$nl").map((function(e){return Object(v.jsx)("p",{children:e})})):e.text})]}),Object(v.jsx)("small",{className:O()(Lt.a["chat-channel__message-date"]),children:St()(e.date).format("DD/MM/YYYY hh:mm:ss")})]},e.id)}))]}),Object(v.jsx)(L.a,{onSubmit:function(e){e.preventDefault(),Ne(x)||Ne(f)?b.b.warning("Ambos campos son obligatorios"):(Pt.emit("new message",p),c(!0),d(xt({user:s,text:p.text,type:"usuario"})),h(Object(P.a)(Object(P.a)({},p),{},{text:""})),Pt.on("new message saved",(function(e){d(mt(e)),c(!1)})),Pt.on("messages error",(function(e){c(!1),b.b.warning(e.message)})))},children:Object(v.jsxs)("div",{className:O()(Lt.a["chat-channel__form"]),children:[Object(v.jsx)(L.a.Control,{value:x,onChange:y,disabled:!0,name:"email",type:"text",placeholder:"Email",ref:g}),Object(v.jsx)(L.a.Control,{value:f,onChange:y,name:"text",type:"text",placeholder:"Ingresa un mensaje"}),Object(v.jsx)(F.a,{className:"w-100",variant:"primary",type:"submit",disabled:n,children:Object(v.jsxs)("span",{className:"d-flex align-items-center justify-content-center gap-2",children:["Enviar",n&&Object(v.jsx)(m.a,{animation:"border",role:"status",variant:"light",size:"sm",children:Object(v.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})]})})]})},Tt=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Centro de Mensajes"}),Object(v.jsx)(Ft,{})]})},Mt=a(254),Gt=a(161),qt=a.n(Gt),Dt=function(e){var t=e.order,a=G((function(e){return e.user})).data,r=t.productos.reduce((function(e,t){return e+Number(t.producto.precio)*t.quantity}),0),n=t.estado.charAt(0).toUpperCase()+t.estado.slice(1);return Object(v.jsx)("div",{className:O()(qt.a["last-order"],"border","p-3","rounded","mt-4"),children:Object(v.jsxs)(ee.a,{children:[Object(v.jsxs)(te.a,{md:"12",lg:"6",children:[Object(v.jsx)("h5",{children:"Informaci\xf3n de tu pedido"}),Object(v.jsxs)(Mt.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Cantidad"}),Object(v.jsx)("th",{children:"Producto"}),Object(v.jsx)("th",{children:"Precio"})]})}),Object(v.jsxs)("tbody",{children:[t&&t.productos.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.quantity}),Object(v.jsx)("td",{children:e.producto.nombre}),Object(v.jsxs)("td",{className:"fw-bold",children:["$",Number(e.producto.precio)*e.quantity]})]})})),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{colSpan:2,className:"text-end",children:"Total:"}),Object(v.jsxs)("td",{className:"fw-bold",children:["$",r]})]})]})]})]}),Object(v.jsxs)(te.a,{md:"12",lg:"6",children:[Object(v.jsx)("h5",{children:"Datos de la entrega:"}),Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"Estado:"})," ",n]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"Entregar a:"})," ",null===a||void 0===a?void 0:a.nombre]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"Email:"})," ",null===a||void 0===a?void 0:a.email]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"Orden creada:"})," ",St()(t.timestamp).format("DD/MM/YYYY, LT")]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"Direcci\xf3n de entrega:"})," ",t.direccionEntrega]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"fw-bold",children:"C\xf3digo Postal:"})," ",t.codigoPostal]})]})]})]})})},Rt=function(){var e=G((function(e){return e.orders})),t=e.data,a=e.status,n=e.error,c=M();return Object(r.useEffect)((function(){"idle"===a&&c(ye()),"failed"===a&&b.b.error(n||"Ocurri\xf3 un error")}),[c,n,a]),Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Ordenes"}),Ne(t)?"loading"===a?Object(v.jsx)(Ye,{}):Object(v.jsx)("h1",{className:"mt-5 pt-3 mb-3",children:"No haz realizado ninguna orden"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{children:"En curso"}),t.map((function(e){return"generada"===e.estado?Object(v.jsx)(Dt,{order:e}):null})),Object(v.jsx)("h3",{className:"mt-3",children:"Completadas"}),t.map((function(e){return"completada"===e.estado?Object(v.jsx)(Dt,{order:e}):null}))]})]})},zt=function(){var e=G((function(e){return e.orders})),t=e.lastOrder,a=e.status,n=e.error,c=M();return Object(r.useEffect)((function(){"idle"===a&&c(ye()),"failed"===a&&b.b.error(n||"Ocurri\xf3 un error obteniendo la \xfaltima orden")}),[c,n,a]),Object(v.jsx)("div",{children:t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"text-center mt-5 pt-3 mb-3",children:"\xa1Tu orden est\xe1 siendo procesada!"}),Object(v.jsx)(Dt,{order:t})]}):"loading"===a?Object(v.jsx)(Ye,{style:{height:"100vh"}}):Object(v.jsx)("h1",{className:"text-center mt-5 pt-3 mb-3",children:"No tienes ordenes en curso"})})};p.b.add(h.a);var At=function(){var e=G((function(e){return e.user})),t=e.status,a=e.isLoggedIn,n=M(),c=function(e){var t={};return document.cookie.split(";").forEach((function(e){var a=e.split("="),r=Object(I.a)(a,2),n=r[0],c=r[1];t[n.trim()]=c})),t[e]}("connect.sid");return Object(r.useEffect)((function(){c&&"idle"===t&&function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(W()).unwrap();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()()}),[t,n,c]),Object(v.jsxs)(u.a,{children:[!c||"idle"!==t&&"loading"!==t?Object(v.jsxs)(v.Fragment,{children:[a&&Object(v.jsx)(S,{}),Object(v.jsx)(d.a,{children:Object(v.jsxs)(j.d,{children:[Object(v.jsx)(j.b,{path:"/login",children:a?Object(v.jsx)(j.a,{to:"/"}):Object(v.jsx)(Z,{})}),Object(v.jsx)(j.b,{path:"/signup",children:a?Object(v.jsx)(j.a,{to:"/"}):Object(v.jsx)(se,{})}),Object(v.jsx)(j.b,{path:"/chat",children:a?Object(v.jsx)(Tt,{}):Object(v.jsx)(j.a,{to:"/login"})}),Object(v.jsx)(j.b,{path:"/cart",children:a?Object(v.jsx)(Ue,{}):Object(v.jsx)(j.a,{to:"/login"})}),Object(v.jsx)(j.b,{path:"/successful-order",children:a?Object(v.jsx)(zt,{}):Object(v.jsx)(j.a,{to:"/login"})}),Object(v.jsx)(j.b,{path:"/ordenes",children:a?Object(v.jsx)(Rt,{}):Object(v.jsx)(j.a,{to:"/login"})}),Object(v.jsx)(j.b,{path:"/account",children:a?Object(v.jsx)(Nt,{}):Object(v.jsx)(j.a,{to:"/login"})}),Object(v.jsx)(j.b,{path:"/",children:a?Object(v.jsx)(bt,{}):Object(v.jsx)(j.a,{to:"/login"})})]})})]}):Object(v.jsx)(_,{}),Object(v.jsx)(b.a,{})]})},Yt=Object(D.a)({reducer:{products:at,cart:fe,user:V,messages:Ot,orders:Ce}});a(235),a(236),a(237);s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(T.a,{store:Yt,children:Object(v.jsx)(At,{})})}),document.getElementById("root"))},40:function(e,t,a){e.exports={"chat-channel":"styles_chat-channel__3kc8J","chat-channel__messages":"styles_chat-channel__messages__Naigt","chat-channel__messages--loading":"styles_chat-channel__messages--loading__3Eb9U","chat-channel__messages--no-messages":"styles_chat-channel__messages--no-messages__15UYt","chat-channel__message":"styles_chat-channel__message__3S3Et","chat-channel__message--bot":"styles_chat-channel__message--bot__1I5J7","chat-channel__message-email":"styles_chat-channel__message-email__3KCAX","chat-channel__message-email--bot":"styles_chat-channel__message-email--bot__XoNOn","chat-channel__message-text":"styles_chat-channel__message-text__2sWmS","chat-channel__message-date":"styles_chat-channel__message-date__3Ldd4","chat-channel__form":"styles_chat-channel__form__128TP"}},54:function(e,t,a){e.exports={"product-carrito":"styles_product-carrito__w9h_z","product-carrito__img":"styles_product-carrito__img__3lOp8","product-carrito__info-container":"styles_product-carrito__info-container__xkUfY","product-carrito__info":"styles_product-carrito__info__3cczg","product-carrito__qty-price":"styles_product-carrito__qty-price__3TmcJ","product-carrito__qty-form":"styles_product-carrito__qty-form__1O6EU","product-carrito__btns":"styles_product-carrito__btns__2Oedl","product-carrito__price":"styles_product-carrito__price__3CqFm"}}},[[238,1,2]]]);
//# sourceMappingURL=main.85b34b7b.chunk.js.map