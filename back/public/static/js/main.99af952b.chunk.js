(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(22),o=n.n(r),s=n(108),i=n(25),l=n(11),d=n(113),u=n(112),j=n(1),b=function(){return Object(j.jsxs)("svg",{height:"20px",viewBox:"0 -31 512.00033 512",width:"20px",xmlns:"http://www.w3.org/2000/svg",fill:"#9b9d9e",children:[Object(j.jsx)("path",{d:"m166 300.003906h271.003906c6.710938 0 12.597656-4.4375 14.414063-10.882812l60.003906-210.003906c1.289063-4.527344.40625-9.390626-2.433594-13.152344-2.84375-3.75-7.265625-5.964844-11.984375-5.964844h-365.632812l-10.722656-48.25c-1.523438-6.871094-7.617188-11.75-14.648438-11.75h-91c-8.289062 0-15 6.710938-15 15 0 8.292969 6.710938 15 15 15h78.960938l54.167968 243.75c-15.9375 6.929688-27.128906 22.792969-27.128906 41.253906 0 24.8125 20.1875 45 45 45h271.003906c8.292969 0 15-6.707031 15-15 0-8.289062-6.707031-15-15-15h-271.003906c-8.261719 0-15-6.722656-15-15s6.738281-15 15-15zm0 0"}),Object(j.jsx)("path",{d:"m151 405.003906c0 24.816406 20.1875 45 45.003906 45 24.8125 0 45-20.183594 45-45 0-24.8125-20.1875-45-45-45-24.816406 0-45.003906 20.1875-45.003906 45zm0 0"}),Object(j.jsx)("path",{d:"m362.003906 405.003906c0 24.816406 20.1875 45 45 45 24.816406 0 45-20.183594 45-45 0-24.8125-20.183594-45-45-45-24.8125 0-45 20.1875-45 45zm0 0"})]})},h=n(20),p=n.n(h),x=n(67),O=n.n(x),m=function(){return Object(j.jsxs)(d.a,{bg:"dark",variant:"dark",fixed:"top",expand:"sm",children:[Object(j.jsx)(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(j.jsx)(d.a.Collapse,{id:"responsive-navbar-nav",children:Object(j.jsx)(s.a,{children:Object(j.jsxs)(u.a,{className:"me-auto",children:[Object(j.jsx)(i.b,{className:"nav-link",to:"/",children:"Inicio"}),Object(j.jsx)(i.b,{className:"nav-link",to:"/add-product",children:"Agregar Producto"}),Object(j.jsx)(i.b,{className:"nav-link",to:"/chat",children:"Chat"}),Object(j.jsx)(i.b,{className:p()("nav-link","ms-sm-auto",O.a["cart-icon"]),to:"/cart",children:Object(j.jsx)(b,{})})]})})})]})},f=n(9),g=n(8),v=n(2),w=n(111),y=n(109),C=function(e){var t=e.handleSaveProduct,n=Object(c.useState)({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""}),a=Object(f.a)(n,2),r=a[0],o=a[1],s=r.codigo,i=r.nombre,l=r.descripcion,d=r.precio,u=r.stock,b=r.foto,h=function(e){o(Object(v.a)(Object(v.a)({},r),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(w.a,{children:[Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(j.jsx)(w.a.Label,{children:"C\xf3digo"}),Object(j.jsx)(w.a.Control,{type:"text",value:s,name:"codigo",onChange:h})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(j.jsx)(w.a.Label,{children:"Nombre"}),Object(j.jsx)(w.a.Control,{type:"text",value:i,name:"nombre",onChange:h})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(j.jsx)(w.a.Label,{children:"Descripci\xf3n"}),Object(j.jsx)(w.a.Control,{type:"textarea",value:l,name:"descripcion",onChange:h})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"precio",children:[Object(j.jsx)(w.a.Label,{children:"Precio"}),Object(j.jsx)(w.a.Control,{type:"text",value:d,name:"precio",onChange:h})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"stock",children:[Object(j.jsx)(w.a.Label,{children:"Stock"}),Object(j.jsx)(w.a.Control,{type:"text",value:u,name:"stock",onChange:h})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"foto",children:[Object(j.jsx)(w.a.Label,{children:"URL de imagen"}),Object(j.jsx)(w.a.Control,{type:"url",value:b,name:"foto",onChange:h})]}),Object(j.jsx)(y.a,{className:"mb-2",onClick:function(){t(r,(function(){o({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},children:"Guardar"})]})})},N=n(114),_=n(57),k=n.n(_),S=function(e){var t=e.show,n=e.handleToggleShowToast,c=e.toastInfo;return Object(j.jsx)("div",{className:p()(k.a.notification,k.a[c.type]),children:Object(j.jsx)(N.a,{show:t,onClose:function(){return n()},delay:3e3,autohide:!0,children:Object(j.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(j.jsx)(N.a.Body,{children:c.text}),Object(j.jsx)("button",{type:"button",className:"btn-close ms-3 me-3","aria-label":"Close","data-dismiss":"toast",onClick:function(){return n()}})]})})})},T=n(14),E=n.n(T),I=n(27),L=n(28),F=n.n(L),G="/api/productos",M=function(){var e=Object(I.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("".concat(G,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(I.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat(G,"/guardar"),t);case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(I.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.delete("".concat(G,"/borrar/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(I.a)(E.a.mark((function e(t,n){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.put("".concat(G,"/actualizar/").concat(t),n);case 3:return c=e.sent,e.abrupt("return",c.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({text:"",type:""}),o=Object(f.a)(r,2),s=o[0],i=o[1],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",type:""};e.text&&i(e),a(!n)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-center mt-5 pt-3",children:"Agrega un producto"}),Object(j.jsx)(S,{show:n,handleToggleShowToast:l,toastInfo:s}),Object(j.jsx)(C,{handleSaveProduct:function(e,t){P(e).then((function(){t(),l({text:"El producto fue agregado con \xe9xito",type:"success"})})).catch((function(e){l({text:e.message,type:"danger"})}))}})]})},J="/api/carrito",R=function(){var e=Object(I.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("".concat(J,"/listar"));case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(I.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("".concat(J,"/agregar/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(I.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.delete("".concat(J,"/borrar/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function H(e){if(e){switch(typeof e){case"string":return""===e||"null"===e||"undefined"===e;case"number":return!1;case"object":return"{}"===JSON.stringify(e)||"[]"===JSON.stringify(e)}return!0}return!0}var $=n(115),U=n(58),W=n.n(U),K=function(e){var t=e.product,n=e.handleToggleShowModal,c=e.handleAddToCart;return Object(j.jsxs)($.a,{children:[Object(j.jsx)($.a.Img,{variant:"top",src:"".concat(t.foto)}),Object(j.jsxs)($.a.Body,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)($.a.Title,{children:t.nombre}),Object(j.jsxs)($.a.Subtitle,{className:"mb-2 text-muted",children:["$",t.precio]}),Object(j.jsx)($.a.Text,{children:t.descripcion})]}),Object(j.jsx)("div",{className:"text-end mt-2",children:Object(j.jsx)($.a.Text,{children:Object(j.jsx)("small",{children:t.codigo})})}),Object(j.jsxs)("div",{className:p()("d-flex","flex-column",W.a["product-btns"]),children:[Object(j.jsxs)("div",{className:p()("d-flex","mt-2",W.a["product-add-edit"]),children:[Object(j.jsx)(y.a,{variant:"danger",onClick:function(){return n(t,"delete")},children:"Eliminar"}),Object(j.jsx)(y.a,{variant:"info",onClick:function(){return n(t,"edit")},children:"Editar"})]}),Object(j.jsx)(y.a,{variant:"primary",onClick:function(){return c(t)},children:"Agregar al carrito"})]})]})]})},X=n(49),Q=n.n(X),V=function(e){var t=e.product,n=e.handleRemove;return Object(j.jsxs)("div",{className:p()("border","rounded","d-flex",Q.a["product-carrito"]),children:[Object(j.jsx)("img",{src:t.foto,alt:t.nombre,className:Q.a["product-carrito__img"]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-grow-1",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:t.nombre}),Object(j.jsx)("p",{children:t.descripcion}),Object(j.jsxs)("p",{className:Q.a["product-carrito__price"],children:["$",t.precio]})]}),Object(j.jsx)(y.a,{variant:"danger",onClick:function(){return n(t.id)},children:"Eliminar"})]})]})},Y=n(70),Z=n.n(Y),ee=function(e){var t=e.handleToggleShowModal,n=e.productos,c=e.location,a=e.handleRemove,r=e.handleAddToCart;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:p()(Z.a["product-list"],"my-4","d-flex","flex-wrap","justify-content-center",{"flex-column":"cart"===c}),children:[!H(n)&&t&&r&&"home"===c&&n.map((function(e){return Object(j.jsx)(K,{product:e,handleToggleShowModal:t,handleAddToCart:r},e.id)})),!H(n)&&"cart"===c&&a&&n.map((function(e){return Object(j.jsx)(V,{product:e,handleRemove:a},e.id)}))]})})},te=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),o=Object(f.a)(r,2),s=o[0],l=o[1],d=Object(c.useState)(!1),u=Object(f.a)(d,2),b=u[0],h=u[1],p=Object(c.useState)({text:"",type:""}),x=Object(f.a)(p,2),O=x[0],m=x[1],g=function(e){h(!b),e&&m(e)};return Object(c.useEffect)((function(){R().then((function(e){a(e)})).catch((function(e){m({text:e.message,type:"danger"})}))}),[]),Object(c.useEffect)((function(){var e=n.reduce((function(e,t){return e+Number(t.precio)}),0);l(e)}),[n]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-center mt-5 pt-3 mb-",children:"Carrito"}),Object(j.jsx)(S,{show:b,handleToggleShowToast:g,toastInfo:O}),Object(j.jsx)(ee,{productos:n,location:"cart",handleRemove:function(e){q(e).then((function(e){a(e)})).catch((function(e){g({text:e.message,type:"warning"})}))}}),H(n)?Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("h2",{className:"",children:"El carrito est\xe1 vac\xedo"}),Object(j.jsx)("p",{className:"display-6",children:"Agrega algunos productos"}),Object(j.jsx)(i.b,{to:"/",className:"btn btn-primary",children:"Ir a inicio"})]}):Object(j.jsx)("div",{className:"d-flex justify-content-end",children:Object(j.jsxs)("p",{className:"border rounded p-4",children:[Object(j.jsx)("span",{className:"fw-bold",children:"Total:"})," $",s]})})]})},ne=n(3),ce=n(110),ae=function(e){var t=e.handleToggleShowModal,n=e.productToDelete,c=e.handleConfirmDelete;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ce.a.Header,{children:Object(j.jsx)(ce.a.Title,{children:"\xbfEstas seguro?"})}),Object(j.jsxs)(ce.a.Body,{children:["\xbfSeguro que quieres eliminar ",null===n||void 0===n?void 0:n.nombre,"?"]}),Object(j.jsxs)(ce.a.Footer,{children:[Object(j.jsx)(y.a,{variant:"secondary",onClick:function(){return t()},children:"Cancelar"}),Object(j.jsx)(y.a,{variant:"danger",onClick:c,children:"Eliminar"})]})]})},re=function(e){var t=e.handleToggleShowModal,n=e.productToEdit,a=e.handleConfirmEdit,r=Object(c.useState)({codigo:n.codigo,nombre:n.nombre,descripcion:n.descripcion,precio:n.precio,stock:n.stock,foto:n.foto}),o=Object(f.a)(r,2),s=o[0],i=o[1],l=s.codigo,d=s.nombre,u=s.descripcion,b=s.precio,h=s.stock,p=s.foto,x=function(e){i(Object(v.a)(Object(v.a)({},s),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ce.a.Header,{children:Object(j.jsx)(ce.a.Title,{children:"Editar producto"})}),Object(j.jsx)(ce.a.Body,{children:Object(j.jsxs)(w.a,{children:[Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"codigo",children:[Object(j.jsx)(w.a.Label,{children:"C\xf3digo"}),Object(j.jsx)(w.a.Control,{type:"text",value:l,name:"codigo",onChange:x})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"nombre",children:[Object(j.jsx)(w.a.Label,{children:"Nombre"}),Object(j.jsx)(w.a.Control,{type:"text",value:d,name:"nombre",onChange:x})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"descripcion",children:[Object(j.jsx)(w.a.Label,{children:"Descripci\xf3n"}),Object(j.jsx)(w.a.Control,{type:"textarea",value:u,name:"descripcion",onChange:x})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"precio",children:[Object(j.jsx)(w.a.Label,{children:"Precio"}),Object(j.jsx)(w.a.Control,{type:"text",value:b,name:"precio",onChange:x})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"stock",children:[Object(j.jsx)(w.a.Label,{children:"Stock"}),Object(j.jsx)(w.a.Control,{type:"text",value:h,name:"stock",onChange:x})]}),Object(j.jsxs)(w.a.Group,{className:"mb-3",controlId:"foto",children:[Object(j.jsx)(w.a.Label,{children:"URL de imagen"}),Object(j.jsx)(w.a.Control,{type:"url",value:p,name:"foto",onChange:x})]})]})}),Object(j.jsxs)(ce.a.Footer,{children:[Object(j.jsx)(y.a,{variant:"secondary",onClick:function(){return t()},children:"Cancelar"}),Object(j.jsx)(y.a,{variant:"primary",onClick:function(){var e=Object(v.a)(Object(v.a)({},n),s);a(e,(function(){i({codigo:"",nombre:"",descripcion:"",precio:"",stock:"",foto:""})}))},children:"Editar"})]})]})},oe=function(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(f.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)({text:"",type:""}),d=Object(f.a)(l,2),u=d[0],b=d[1],h=Object(c.useState)(null),p=Object(f.a)(h,2),x=p[0],O=p[1],m=Object(c.useState)(null),g=Object(f.a)(m,2),v=g[0],w=g[1],y=Object(c.useState)([]),C=Object(f.a)(y,2),N=C[0],_=C[1],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",type:""};H(e.text)||b(e),i(!s)},T=function(e,t){e&&"delete"===t&&(O(e),w(null)),e&&"edit"===t&&(w(e),O(null)),a(!n)};return Object(c.useEffect)((function(){M().then((function(e){_(e)})).catch((function(e){b({type:"warning",text:e.message})}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"text-center mt-5 pt-4",children:"Productos"}),Object(j.jsx)(ee,{location:"home",productos:N,handleToggleShowModal:T,handleAddToCart:function(e){z(e.id).then((function(){k({text:"".concat(e.nombre," agregado al carrito"),type:"success"})})).catch((function(e){k({text:e.message,type:"warning"})}))}}),Object(j.jsx)(S,{show:s,handleToggleShowToast:k,toastInfo:u}),Object(j.jsxs)(ce.a,{show:n,onHide:function(){return T()},children:[x&&Object(j.jsx)(ae,{productToDelete:x,handleConfirmDelete:function(){x&&A(x.id).then((function(){T(),k({text:"Producto eliminado con \xe9xito",type:"success"});var e=N.filter((function(e){return e.id!==x.id}));_(e),setTimeout((function(){O(null)}),1e3)})).catch((function(e){k({type:"warning",text:e.message}),T(),setTimeout((function(){O(null)}),1e3)}))},handleToggleShowModal:T}),v&&Object(j.jsx)(re,{productToEdit:v,handleConfirmEdit:function(e,t){var n=e.id,c=(e.timestamp,Object(ne.a)(e,["id","timestamp"]));v&&B(n,c).then((function(e){t();var n=N.map((function(e){return e.id})).indexOf(e.id),c=JSON.parse(JSON.stringify(N));c.splice(n,1,e),_(c),T(),k({text:"Producto editado con \xe9xito",type:"success"}),setTimeout((function(){w(null)}),1e3)})).catch((function(e){k({type:"warning",text:e.message}),T(),setTimeout((function(){w(null)}),1e3)}))},handleToggleShowModal:T})]})]})},se=function(){return Object(j.jsxs)(i.a,{children:[Object(j.jsx)(m,{}),Object(j.jsx)(s.a,{children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/add-product",children:Object(j.jsx)(D,{})}),Object(j.jsx)(l.a,{path:"/cart",children:Object(j.jsx)(te,{})}),Object(j.jsx)(l.a,{path:"/",children:Object(j.jsx)(oe,{})})]})})]})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,116)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};n(105);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(se,{})}),document.getElementById("root")),ie()},49:function(e,t,n){e.exports={"product-carrito":"styles_product-carrito__w9h_z","product-carrito__img":"styles_product-carrito__img__3lOp8","product-carrito__price":"styles_product-carrito__price__3CqFm"}},57:function(e,t,n){e.exports={notification:"styles_notification__1W_Ae",danger:"styles_danger__1GI2w",warning:"styles_warning__1oMJi",success:"styles_success__I1hLo"}},58:function(e,t,n){e.exports={"product-btns":"styles_product-btns__KMiLf","product-add-edit":"styles_product-add-edit__3EXs6"}},67:function(e,t,n){e.exports={"cart-icon":"styles_cart-icon__Preeq"}},70:function(e,t,n){e.exports={"product-list":"styles_product-list__1ieW6"}}},[[106,1,2]]]);
//# sourceMappingURL=main.99af952b.chunk.js.map